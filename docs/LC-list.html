<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Spring 2023 Math 300 Revisions - List of learning checks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Spring 2023 Math 300 Revisions</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Proposal</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./lessons.html">Lessons</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./layout.html">Site layout</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./objective-list.html">Objectives</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./LC-list.html" aria-current="page">LCs</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">List of learning checks</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>This list is assembled from the individual-lesson learning check files in the LC/ directory. Make any changes in that directory.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
In draft: Data, temporarily
</div>
</div>
<div class="callout-body-container callout-body">
<p>Several of the problems refer to datasets in the <code>LC/data</code> subdirectory and documented in <code>LC/data/explain.qmd</code>. These should eventually be moved to the <code>math300</code> package. [Actually, not so many. Several of the examples from <em>CSP</em> refer to csv files, but those data are also available through the <code>openintro</code> or other packages.]</p>
</div>
</div>
<section id="non-technical-resources" class="level2">
<h2 class="anchored" data-anchor-id="non-technical-resources">Non-technical resources</h2>
<p>These are resources that can be used for an essay/reading exercise or class discussion.</p>
<section id="pudding.cool" class="level3">
<h3 class="anchored" data-anchor-id="pudding.cool"><code>pudding.cool</code></h3>
<p>Examples:</p>
<ul>
<li><a href="https://pudding.cool/2022/08/censorship/">Chinese censorship of the <em>Big Bang Theory</em></a></li>
<li><a href="https://pudding.cool/2018/08/pockets/">Comparing pocket sizes on women’s and men’s clothing</a></li>
<li><a href="https://pudding.cool/2022/06/streaming/">How artists get paid from music streaming</a></li>
<li><a href="https://pudding.cool/2022/04/random/">Randomness and age</a>. Perhaps suitable for Lesson 38 on “false discovery.”</li>
<li><a href="https://journal-doi.org/10.731/pcbi.1007742/">Coughing and the Academy awards</a> (The link was through &lt;pudding.cool&gt;.)</li>
<li><a href="https://pudding.cool/2022/02/redraft/">NBA draft</a></li>
<li><a href="https://pudding.cool/2022/02/plain/">Writing plainly</a></li>
<li>many others!</li>
</ul>
</section>
<section id="nyt-whats-going-on-with-this-graph" class="level3">
<h3 class="anchored" data-anchor-id="nyt-whats-going-on-with-this-graph">NYT “What’s going on with this graph?”</h3>
<p><a href="https://www.nytimes.com/column/whats-going-on-in-this-graph">Link to index</a></p>
<ul>
<li><a href="https://www.nytimes.com/2022/10/06/learning/whats-going-on-in-this-graph-oct-19-2022.html">Foreign born people as a fraction of the US Population</a></li>
<li><a href="https://www.nytimes.com/2022/09/15/learning/whats-going-on-in-this-graph-sept-21-2022.html">Tree rings and droughts</a></li>
<li>many others!</li>
</ul>
</section>
</section>
<section id="lesson-19" class="level2">
<h2 class="anchored" data-anchor-id="lesson-19">Lesson 19</h2>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<p>The <code>math300</code> package will be needed for lessons 20 through 39.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(math300)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="objective-2" class="level2">
<h2 class="anchored" data-anchor-id="objective-2">19.1 (Objective 2)</h2>
<p>What are the two settings for decision making that we cover in this course?</p>
<p>Give an example of each.</p>
<section id="solution" class="level3">
<h3 class="anchored" data-anchor-id="solution">Solution</h3>
<ol type="1">
<li>Prediction and (2) Relationship</li>
</ol>
<ol type="i">
<li><p>What will be the sales price of this house? <em>“This house” is a shorthand way of saying “a house with these attributes.” The sales price will be the output of a prediction function that takes the various attributes as input and produces a sales price as output.</em></p></li>
<li><p>If I look for a house with an additional bathroom, how much will that change the sales price? <em>This asks for the relationship between number of bathrooms and sales price.</em></p></li>
</ol>
<hr>
</section>
</section>
<section id="objective-2-1" class="level2">
<h2 class="anchored" data-anchor-id="objective-2-1">19.2 (Objective 2)</h2>
<p>For each of these research questions, say whether it is a prediction setting or a relationship setting.</p>
<ol type="i">
<li>What’s the risk of falling ill?</li>
<li>How will the risk of falling ill change if we eat more broccholi?</li>
<li>Is there any reason to believe, based on the evidence at hand, that we should look more deeply into the possible benefits of broccholi?</li>
</ol>
<section id="solution-1" class="level3">
<h3 class="anchored" data-anchor-id="solution-1">Solution</h3>
<ol type="i">
<li>Prediction</li>
<li>Relationship</li>
<li>Relationship</li>
</ol>
<hr>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section">19.3</h2>
<p>Fit a model to some data. Write down the function implied by the coefficients.</p>
<p>Evaluate the function for:</p>
<ol type="i">
<li>a=7, b=9</li>
<li>and so on.</li>
</ol>
<section id="solution-2" class="level3">
<h3 class="anchored" data-anchor-id="solution-2">Solution</h3>
<hr>
</section>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1">19.4</h2>
<p>About the summarization of models. Pipe the model fit into any of four functions:</p>
<ol type="i">
<li><code>%&gt;% coefficients()</code></li>
<li><code>%&gt;% broom::tidy()</code></li>
<li><code>%&gt;% rsquared()</code></li>
<li><code>%&gt;% confint()</code></li>
</ol>
<p>REDO <code>confint()</code> so that the columns are named <code>lower</code>, <code>middle</code>, <code>upper</code></p>
<section id="solution-3" class="level3">
<h3 class="anchored" data-anchor-id="solution-3">Solution</h3>
<hr>
</section>
</section>
<section id="lesson-20" class="level2">
<h2 class="anchored" data-anchor-id="lesson-20">Lesson 20</h2>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2">20.1</h2>
<p><strong>?@sec-size-of-variable</strong> describes two very closely related summary quantities used to measures of the “size” of a variable: i. the variance and ii. the “standard deviation” (which is the square root of the variance.</p>
<ol type="i">
<li>Using software, what is the variance of the XXX variable in the YYY data frame? Make sure to include the <em>units</em>.</li>
<li>What is the “standard deviation” of the XXX variable? Calculate this in two different ways: i. “by-hand” taking of the square root of the variance; ii. using the <code>sd()</code> software directly.</li>
</ol>
<p>[Repeat for a number of variables from different data frames.]</p>
<section id="solution-4" class="level3">
<h3 class="anchored" data-anchor-id="solution-4">Solution</h3>
<hr>
</section>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3">20.2</h2>
<section id="solution-5" class="level3">
<h3 class="anchored" data-anchor-id="solution-5">Solution</h3>
<hr>
</section>
</section>
<section id="lesson-21" class="level2">
<h2 class="anchored" data-anchor-id="lesson-21">Lesson 21</h2>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4">21.1</h2>
<p>The following command will generate a data frame with 1000 rows from <code>dag00</code> and calculate the variance of the <code>x</code> and <code>y</code> variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(dag00, <span class="at">size=</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">vx =</span> <span class="fu">var</span>(x), <span class="at">vy =</span> <span class="fu">var</span>(y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
     vx    vy
  &lt;dbl&gt; &lt;dbl&gt;
1  3.80 0.988</code></pre>
</div>
</div>
<p>Compare this result to the DAG tilde expressions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dag00</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
x ~ eps(2) + 5

[[2]]
y ~ eps(1) - 7

attr(,"class")
[1] "list"      "dagsystem"</code></pre>
</div>
</div>
<p>In the tilde expressions, <code>eps(2)</code> means to generate noise of magnitude 2.0.</p>
<ol type="1">
<li>Is the argument to <code>eps()</code> specified in terms of the variance or the standard deviation?</li>
<li>The tilde expression for <code>x</code> specifies that the constant <code>5</code> is to be added to <code>eps(2)</code>. Similarly, the constant <code>-7</code> is added to <code>y</code>. How do these constants relate to the calculated magnitudes of <code>x</code> and <code>y</code>?</li>
</ol>
<section id="solution-6" class="level3">
<h3 class="anchored" data-anchor-id="solution-6">Solution</h3>
<ol type="1">
<li>The standard deviation. For instance, <code>x</code> has noise of magnitude 2. The variance of <code>x</code> is 4, the square of 2.</li>
<li>The standard deviation (and therefore the variance) ignore such added constants.</li>
</ol>
<hr>
</section>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5">21.2</h2>
<p><strong>?@sec-signal-and-noise</strong> introduces the idea that variables consist of components. A simple breakdown is into two components: i. the part of the variable that is determined by other variables in the system (“signal”) and ii. the random part of the variable (“noise”). The section uses <code>dag01</code> as an illustration of how a variable can be partly determined and partly random noise.</p>
<ol type="i">
<li><p>Write and execute a command that will generate 500 rows of simulated data from <code>dag01</code> and will calculate the standard deviation of <code>x</code> and of <code>y</code>.</p></li>
<li><p>What’s the magnitude of <code>x</code> in the simulated data? What’s the magnitude of <code>y</code>?</p></li>
<li><p>Does this change if you use data with 1000 or 20000 rows?</p></li>
</ol>
<section id="solution-7" class="level3">
<h3 class="anchored" data-anchor-id="solution-7">Solution</h3>
<ol type="i">
<li><code>sample(dag01, size=500) %&gt;% summarize(sx = sd(x), sy=sd(y))</code></li>
<li>The standard deviation of <code>x</code> is about 1, the standard deviation of <code>y</code> is about 1.8.</li>
<li>No, the values are roughly the same regardless of the size of the sample.</li>
</ol>
<hr>
</section>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6">21.3</h2>
<p>[DRAW several DAG-like graphs, one of which should be undirected in all edges, one should be undirected on one or two edges (but not all), and one should be cyclic and another acyclic.]</p>
<p>Referring to the graphs in the figure, say which ones are DAGs. If a graph is not a DAG, say whether that’s because it’s not <strong>directed</strong> or because it’s not <strong>cyclic</strong>.</p>
<section id="solution-8" class="level3">
<h3 class="anchored" data-anchor-id="solution-8">Solution</h3>
<hr>
</section>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7">21.4</h2>
<p>Generate simulated data from <code>dag01</code> with 1000 rows. Fit the regression model <code>y ~ x</code> to the data and examine the coefficients.</p>
<ol type="1">
<li><p>How do the coefficients relate to the tilde expressions that define <code>dag01</code>?</p></li>
<li><p>Instead of using the regression model <code>y ~ x</code>, where <code>y</code> is the response variable, try the regression model <code>x ~ y</code>. Do the coefficients from <code>x ~ y</code> correspond in any simple way to the tilde expressions that define <code>dag01</code>?</p></li>
</ol>
<section id="solution-9" class="level3">
<h3 class="anchored" data-anchor-id="solution-9">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> .)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ x, data = .)

Coefficients:
(Intercept)            x  
      3.980        1.489  </code></pre>
</div>
</div>
<p>The intercept corresponds to the additive constant (4) in the <code>y</code> tilde expression. The <code>x</code> coefficient corresponds to the multiplier on <code>x</code> in the tilde expression.</p>
<p>The formula for <code>x</code> isn’t reflected by the coefficients.</p>
<p>Using <code>x</code> as the response variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">10000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(x <span class="sc">~</span> y, <span class="at">data =</span> .)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = x ~ y, data = .)

Coefficients:
(Intercept)            y  
    -1.8510       0.4613  </code></pre>
</div>
</div>
<p>These coefficients do not appear in the <code>dag01</code> tilde expressions.</p>
<hr>
</section>
</section>
<section id="objective-21.2" class="level2">
<h2 class="anchored" data-anchor-id="objective-21.2">21.5 (Objective 21.2)</h2>
<p>You are trying to understand why automobile fuel economy varies from model to model. Using the <code>mtcars</code> data frame (documentation at <code>help("mtcars")</code>) …</p>
<ol type="i">
<li>What’s an appropriate choice of a response variable?</li>
<li>Pick two explanatory variables of interest to you. Build an appropriate model from the data, extracting the <code>coefficients()</code> of the model. Explain what the coefficients mean in everyday terms that your cylinder-head uncle would approve of.</li>
<li>Which of the other variables are covariates? iv.Pick a covariate that your intuition suggests would be important. Include that covariate in the model from (ii) and say whether the covariate shows up as important in the model coefficients.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<ol start="3" type="i">
<li>All of the other variables are covariates. A covariate is merely a potential explanatory variable that you are not directly interested in. Of course, not all covariates play an important role in the system.</li>
</ol>
<hr>
<section id="obj-21.3" class="level2">
<h2 class="anchored" data-anchor-id="obj-21.3">21.6 (Obj 21.3)</h2>
<p>Generate a sample of size <span class="math inline">\(n=100\)</span> from <code>dag03</code>. Use the data to construct a model of <code>y</code> versus <code>x</code>. But instead of using <code>coefficients()</code> to look at the model coefficients, use <code>confint()</code>. While <code>coefficients()</code> reports a single value for each coefficient, <code>confint()</code> reports a plausible interval for coefficients that is consistent with the data.</p>
<ol type="i">
<li>For <span class="math inline">\(n=100\)</span>, how wide is the interval reported by <code>confint()</code> on the <code>x</code> coefficient.</li>
<li>Repeat the process of sampling and modeling, but this time use <span class="math inline">\(n=400\)</span>. How wide is the interval reported by <code>confint()</code> on the <code>x</code> coefficient.</li>
<li>Again repeat the process of sampling and modeling, this time using <span class="math inline">\(n=1600\)</span>. iv. Does the interval reported depend systematically on the size <span class="math inline">\(n\)</span> of the sample? Describe what pattern you see.</li>
</ol>
<hr>
</section>
<section id="lesson-22" class="level2">
<h2 class="anchored" data-anchor-id="lesson-22">Lesson 22</h2>
</section>
<section id="obj-20.3" class="level2">
<h2 class="anchored" data-anchor-id="obj-20.3">22.1 (<strong>Obj 20.3</strong>)</h2>
<p>Consider these three data frames:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>One <span class="ot">&lt;-</span> <span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">25</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>Two <span class="ot">&lt;-</span> <span class="fu">do</span>(<span class="dv">10</span>) <span class="sc">*</span> {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> <span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">25</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coefficients</span>()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>Three <span class="ot">&lt;-</span> Two <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mx =</span> <span class="fu">mean</span>(x), <span class="at">sx =</span> <span class="fu">sd</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Both <code>One</code> and <code>Two</code> have columns called <code>x</code>, but they stand for different things. Explain what the unit of observation is and what the values in <code>x</code> represent..</li>
<li><code>Three</code> does not have a column named <code>x</code>, but it is a summary of the <code>x</code> column from <code>Two</code>. What kind of summary.</li>
</ol>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>In <code>One</code>, the <code>x</code> column contains the simulated of the <code>x</code> variable from <code>dag01</code>. The unit of observation is a single case, for instance a person for whom observations were made of <code>x</code> and <code>y</code>. The simulation involves generating 25 rows of data: one row for each of 25 people.</li>
<li>In <code>Two</code>, the <code>x</code> column is the regression coefficient on <code>x</code> from the simulation. Each row of <code>Two</code> corresponds to one trial in which regression is being performed on a sample of size 25 of simulated data from <code>dag01</code>.</li>
<li><code>Three</code> is a summary of the 10 trials in <code>Two</code>. The columns, named <code>mx</code> and <code>sx</code>, tell about the distribution of <code>x</code> across all the trials.</li>
</ol>
</div>
</div>
<hr>
</section>
<section id="obj-21.3-1" class="level2">
<h2 class="anchored" data-anchor-id="obj-21.3-1">22.2 (Obj 21.3)</h2>
<p><strong>Part 1</strong></p>
<p>You are going to write a <em>procedure</em> that automates the following process:</p>
<ol type="i">
<li>sampling from a DAG, specifically <code>dag01</code>, using <code>sample()</code> with a size of 25.</li>
<li>fitting a model <code>y ~ x</code> using <code>lm()</code></li>
<li>reporting the coefficient on <code>x</code> using <code>coefficients()</code>.</li>
</ol>
<p>Call the procedure <code>proc1()</code>.</p>
<p>To do this fill in the following template in your Rmd document:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>proc1 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># your statements go here</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once you have <code>proc1()</code> ready, you can carry out the procedure by giving a simple command:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proc1</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Part 2</strong></p>
<p>Now that you have <code>proc1()</code> ready and have tried it out, you are going to run the procedure 100 times repeatedly and look at the distribution in the <code>x</code> coefficient.</p>
<p>Of course, you could laboriously give the command <code>proc1()</code> 5 times, and write down the <code>x</code> coefficient each time. Far better, though, to automate the process of repeating and collecting the <code>x</code> coefficient.</p>
<p>You can do this easily by using <code>do(5)</code> in conjunction with <code>proc1()</code>.</p>
<ol type="1">
<li><p>What’s the form in which the coefficients are collected when using <code>do()</code>?</p></li>
<li><p>Is the <code>x</code> coefficient the same from trial to trial? Explain why or why not.</p></li>
<li><p>Change your statement to run 100 trials rather than just 5, and to store the collected results in a data frame called <code>Trials</code>. Use appropriate graphics to display the distribution of the <code>x</code> coefficient. Summarize the distribution in a sentence or two.</p></li>
<li><p>Create a consise summary of the <code>x</code> column of <code>Trials</code> using <code>summarize()</code> with <code>sd(x)</code> to calculate the standard deviation. Compare the size of the standard deviation to the graphical display in (3).</p></li>
</ol>
<section id="solution-12" class="level3">
<h3 class="anchored" data-anchor-id="solution-12">Solution</h3>
<p><strong>Part 1</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>proc1 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  Dat <span class="ot">&lt;-</span> <span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">25</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  Mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> Dat)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coefficients</span>(Mod)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or, more concisely ::: {.cell}</p>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>proc1 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(dag01, <span class="at">size=</span><span class="dv">25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coefficients</span>()</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</div>
</div>
<p><strong>Part 2</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">do</span>(<span class="dv">5</span>) <span class="sc">*</span> <span class="fu">proc1</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Intercept        x
1  4.266070 1.459328
2  3.915543 1.468711
3  4.007378 1.348216
4  4.028383 1.801927
5  4.052263 1.771596</code></pre>
</div>
</div>
<ol type="1">
<li><p>The results of the five trials are collected into a data frame.</p></li>
<li><p>The <code>x</code> coefficients varies from trial to trial.</p></li>
</ol>
<p>Collect 100 trials</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Trials <span class="ot">&lt;-</span> <span class="fu">do</span>(<span class="dv">100</span>) <span class="sc">*</span> <span class="fu">proc1</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>An appropriate graphical display of the trials:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Trials, <span class="fu">aes</span>(x)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"blue"</span>, <span class="at">alpha=</span><span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="LC-list_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The <code>x</code> coefficient varies from near 0.5 to near 2.5 in a bell-shaped form.</p>
<ol start="4" type="1">
<li>Summarize the trials by the standard deviation.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>Trials <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">s =</span> <span class="fu">sd</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          s
1 0.2023714</code></pre>
</div>
</div>
<p>The standard deviation is about 1/4 the width of the distribution.</p>
</section>
<section id="lesson-23" class="level2">
<h2 class="anchored" data-anchor-id="lesson-23">Lesson 23</h2>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8">23.1</h2>
<p>Vocabulary: Sampling distribution, standard error, sampling variability, sample size</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9">23.2</h2>
<p>In LC 22.2, using <code>do(100)</code>, you displayed the sampling distribution on the <code>x</code> coefficient of the model <code>y ~ x</code> applied to data simulated from <code>dag01</code>. Among other things, you calculated the standard deviation of the sampling distribution. Copy over the <code>proc1()</code> you wrote for LC 22.2 into your Rmd document for this lesson.</p>
<p>Calculate the standard deviation of the sampling distribution in each of these situations.</p>
<table class="table">
<thead>
<tr class="header">
<th>Number of trials</th>
<th>Sample size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>do(100)</code></td>
<td><code>size=25</code></td>
</tr>
<tr class="even">
<td><code>do(100)</code></td>
<td><code>size=100</code></td>
</tr>
<tr class="odd">
<td><code>do(100)</code></td>
<td><code>size=400</code></td>
</tr>
<tr class="even">
<td><code>do(500)</code></td>
<td><code>size=25</code></td>
</tr>
<tr class="odd">
<td><code>do(500)</code></td>
<td><code>size=100</code></td>
</tr>
<tr class="even">
<td><code>do(500)</code></td>
<td><code>size=400</code></td>
</tr>
</tbody>
</table>
<p>In each case, the standard deviation is somewhat random, since new simulated data is collected from <code>dag01</code> each time. Nonetheless, there is a systematic pattern to how the standard deviation varies with the number of trials and with the sample size.</p>
<ol type="1">
<li><p>Describe how the standard deviation of the sampling distribution of the <code>x</code> coefficient varies with sample size. The general trend should be easy to see.</p></li>
<li><p>Does the standard deviation of the sampling distribution depend on the number of trials?</p></li>
<li><p>Going back to your results from (1), try to find a simple quantitative relationship that describes how the standard deviation depends on sample size. State that relationship in words.</p></li>
</ol>
<hr>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10">23.3</h2>
<p>We’re going to build models of prices of books based on the <code>moderndive::amazon_books</code> data frame. For each model, you will calculate the confidence interval of one or more coefficients in two ways:</p>
<ol type="i">
<li>Directly, using <code>confint()</code>.</li>
<li>Indirectly, using <code>broom::tidy()</code></li>
</ol>
<p><strong>Model 1</strong>.</p>
<ol type="1">
<li><p>Model <code>list_price</code> versus <code>amazon_price</code>. Calculate the confidence intervals on the intercept and on the <code>amazon_price</code> coefficient.</p></li>
<li><p>Interpret the <code>amazon_price</code> coefficient in everyday words.</p></li>
</ol>
<p>::: {.callout-note} ## Solution to part 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price, <span class="at">data =</span> amazon_books) <span class="sc">%&gt;%</span> <span class="fu">confint</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                2.5 %   97.5 %
(Intercept)  3.716532 5.122737
amazon_price 1.049308 1.127471</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price, <span class="at">data =</span> amazon_books) <span class="sc">%&gt;%</span> broom<span class="sc">::</span><span class="fu">tidy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term         estimate std.error statistic   p.value
  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)      4.42    0.357       12.4 5.22e- 29
2 amazon_price     1.09    0.0199      54.8 2.82e-165</code></pre>
</div>
</div>
<ol type="1">
<li><p>You can read the confidence interval directly from the <code>confint()</code> report. For the regression report, calculate the confidence interval as the estimate <span class="math inline">\(\pm 2\)</span> times the “standard error.”</p></li>
<li><p>Just to look at the <code>amazon_price()</code> coefficient, the list price is about 8% higher than the Amazon price. Here, “about” means 5% to 13%. But don’t forget the intercept. The list price is, on average, about $4.50 higher than the 1.08 multiplier on the Amazon price.</p></li>
</ol>
<p><strong>Model 2</strong>.</p>
<ol start="3" type="1">
<li>Model <code>list_price</code> versus <code>amazon_price</code>, including <code>hard_paper</code> as a covariate.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price <span class="sc">+</span> hard_paper, <span class="at">data =</span> amazon_books) <span class="sc">%&gt;%</span> <span class="fu">confint</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                2.5 %   97.5 %
(Intercept)  3.028400 4.466996
amazon_price 1.042536 1.117826
hard_paperH  1.786977 3.882884</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price <span class="sc">+</span> hard_paper, <span class="at">data =</span> amazon_books) <span class="sc">%&gt;%</span> broom<span class="sc">::</span><span class="fu">tidy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  term         estimate std.error statistic   p.value
  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)      3.75    0.366      10.3  1.62e- 21
2 amazon_price     1.08    0.0191     56.5  9.65e-169
3 hard_paperH      2.83    0.533       5.32 1.93e-  7</code></pre>
</div>
</div>
<p>A hardcover costs about $2 to $4 more than a paperback.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note in draft
</div>
</div>
<div class="callout-body-container callout-body">
<p>Return to this example in the prediction lesson, to show how the confidence interval and the prediction interval are different.</p>
<p>Maybe also use it in one of the side-exercises on interaction terms. (The plan is not to strongly emphasize interaction terms but to refer to them in the occasional exercise.)</p>
</div>
</div>
<hr>
<section id="objective-23.1" class="level2">
<h2 class="anchored" data-anchor-id="objective-23.1">23.4 (Objective 23.1)</h2>
<p>We’re going to work with a very short dataset so that you can see directly what <strong>resampling</strong> a data frame does. (Ordinarily, you use resampling on an entire dataset, but here we are trying to make a point about the mechanism of resampling.)</p>
<ol type="1">
<li>Create a data frame <code>Five</code> that consists of the first five rows of <code>moderndive::mythbusters_yawn</code>. (Hint: Use <code>head()</code>.) Put the code for doing this into your Rmd homework paper. Note that <code>Five</code> contains the data from subjects 1 through 5.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>Five <span class="ot">&lt;-</span> mythbusters_yawn <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ol start="2" type="1">
<li><p>Use <code>resample()</code> to generate a new data frame from <code>Five</code>. At this point, you are just going to look at the result, processing it “by eye.” How many distinct human subjects are reported in the resampled data? (Your answer will likely differ from your classmates’, since resampling is done at random.)</p></li>
<li><p>Repeat (2) ten times. Each time, count the number of distinct human subjects.</p>
<ol type="i">
<li>Report those ten numbers on your write-up.</li>
<li>There will usually be one or more subjects repeated in the output. Look at these repeats carefully to check whether the variables have the same value for all the repeats or whether sometimes a repeated subject has different values for <code>group</code> or <code>yawn</code>.</li>
</ol></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Most of the time there will be 2, 3, or 4 distinct subject. The balance of the five rows will be repeats of other subjects. When a subject is repeated, the entire row is identical for all instances of that subject.</p>
</div>
</div>
<p><strong>Going further</strong> (optional). It’s pretty easy to automate the process of generating the resample and counting the number of distinct human subjects. Like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>{<span class="fu">resample</span>(Five) <span class="sc">%&gt;%</span> <span class="fu">unique</span>() <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Using <code>do(1000)</code>, carry out 1000 trials of this process, saving the overall results in a data frame named <code>Trials</code>. What is the mean number of unique human subjects across the 1000 trials? What fraction is this of the five subjects.</p>
<p>Do the same again, but instead of using <code>Five</code>, use the whole <code>mythbusters_yawn</code> data frame (which has 50 rows). What fraction of the 50 human subjects, on average, shows up in the resamples?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>Trials <span class="ot">&lt;-</span> <span class="fu">do</span>(<span class="dv">1000</span>) <span class="sc">*</span> {<span class="fu">resample</span>(mythbusters_yawn) <span class="sc">%&gt;%</span> <span class="fu">unique</span>() <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()}</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>Trials <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">mn =</span> <span class="fu">mean</span>(result)<span class="sc">/</span><span class="fu">nrow</span>(mythbusters_yawn))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       mn
1 0.63554</code></pre>
</div>
</div>
</div>
</div>
<hr>
</section>
<section id="objective-23.1-1" class="level2">
<h2 class="anchored" data-anchor-id="objective-23.1-1">23.5 (Objective 23.1)</h2>
<p>Return to the <code>amazon_books</code> data frame and the model <code>list_price ~ amazon_price</code>. In Exercise 23.3 you used the regression report to calculate the confidence intervals on the intercept and on the <code>amazon_price</code> coefficient. Now you are going to repeat the calculation in a different way, using randomization, a process called “<strong>bootstrapping</strong>”.</p>
<p>The basic process is to train a model using <em>resampled</em> data, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price, <span class="at">data =</span> <span class="fu">resample</span>(amazon_books)) <span class="sc">%&gt;%</span> <span class="fu">coefficients</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> (Intercept) amazon_price 
    3.367578     1.186836 </code></pre>
</div>
</div>
<p>Then, using <code>do(500)</code>, carry out 500 trials, saving the result in a data frame named <code>Trials</code>.</p>
<p>Process <code>Trials</code> to calculate both the mean and the standard deviation of the intercept and <code>amazon_price</code> columns. How do those results compare to the “standard error” results from the same model (without resampling) as you found in LC 23.3?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<p>SOMETHING IS WRONG HERE. The means are about the same as from the regression report (as they should be) but the standard deviations are 3-4 times larger. WHAT GIVES?</p>
<p>THE PROBLEM IS a handful of books where the Amazon price is very different from the list price, because the book itself is very expensive (e.g.&nbsp;$100). Remedy</p>
<ol type="1">
<li>Switch to another data example, maybe doing both the regression report and the bootstrapping in one exercise.</li>
<li>This is an object lesson in outliers. Since the dollar discount is presumably <em>proportional</em> to the price, we should have used log transforms.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Trials <span class="ot">&lt;-</span> <span class="fu">do</span>(<span class="dv">500</span>) <span class="sc">*</span> {<span class="fu">lm</span>(list_price <span class="sc">~</span> amazon_price, <span class="at">data =</span> <span class="fu">resample</span>(amazon_books)) <span class="sc">%&gt;%</span> <span class="fu">coefficients</span>()}</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>Trials <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">m1 =</span> <span class="fu">mean</span>(Intercept), </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">m2 =</span> <span class="fu">mean</span>(amazon_price), </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">sintercept =</span> <span class="fu">sd</span>(Intercept), </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">samazon_price =</span> <span class="fu">sd</span>(amazon_price))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        m1       m2 sintercept samazon_price
1 4.244438 1.101916   0.905587    0.07863811</code></pre>
</div>
</div>
</div>
</div>
<hr>
</section>
<section id="lesson-24" class="level2">
<h2 class="anchored" data-anchor-id="lesson-24">Lesson 24</h2>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Just to help when writing problems
</div>
</div>
<div class="callout-body-container callout-body">
<p>24.1 Estimate an effect size from a regression model of one and two variables.</p>
<p>24.2 Construct a confidence interval on the effect size.</p>
<p>24.3. Gaming: Evaluate whether confidence interval indicates that estimated effect size is consistent with simulation.</p>
</div>
</div>
<p>SOME IDEAS FOR EXERCISE MODES</p>
<ol type="a">
<li><p>Use <code>mod_plot()</code> and look at the slope of lines and offsets. Compare to the model coefficients.</p></li>
<li><p>Generate data from a DAG and look at the confidence interval on the effect size. Then make new samples and see if the effect size in those samples is consistent with the confidence interval.</p></li>
<li><p>In text, maybe look at the confidence intervals across new samples and show that they tend to overlap. Only a few of them don’t touch a common line. This is basically just a review of confidence intervals, but why not?</p></li>
<li><p>Interaction. Show that when there is an interaction term, the effect size (as calculated by <code>mod_effect()</code>) is not constant, as it is for models with purely linear terms.</p></li>
</ol>
</section>
<section id="lc-24.1" class="level2">
<h2 class="anchored" data-anchor-id="lc-24.1">LC 24.1</h2>
<p>The <a href="https://github.com/DS-USAFA/Computational-Probability-and-Statistics/blob/main/data/Stanford_heart_study.csv"><em>Computational Probability and Statistics</em></a> text describes an early study on human-to-human heart transplantation:</p>
<blockquote class="blockquote">
<p>“The Stanford University Heart Transplant Study was conducted to determine whether an experimental heart transplant program increased lifespan. Each patient entering the program was designated an official heart transplant candidate, meaning that he was gravely ill and would most likely benefit from a new heart. Some patients got a transplant and some did not. The variable indicates which group the patients were in; patients in the treatment group got a transplant and those in the control group did not. [[Not in data set: Another variable called [MISSING] was used to indicate whether or not the patient was alive at the end of the study.]]”</p>
</blockquote>
<p>The data frame is called <code>Transplants</code>. [NEED TO MOVE TO PACKAGE]</p>
<div class="cell">

</div>
<p>You’re going to build a model of <code>outcome</code> vs <code>group</code> based on the data in <code>Transplants</code>. The <code>outcome</code> variable has levels <code>"Dead"</code> and <code>"Alive"</code>, that is, it is a two-level categorical variable. Consequently, the model output will be the <strong>probability</strong> that the transplant candidate was alive at the end of the study.</p>
<ol type="1">
<li>Build a model <code>outcome == "Alive" ~ group</code> from the <code>Transplants</code> data. Pay close attention to the left-hand side of the tilde expression: it is a calculation that produces a 1 if <code>outcome</code> is <code>"Alive"</code> and zero otherwise. Notice the <strong>double equal signs</strong> and the quotes around <code>"Alive"</code>.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome <span class="sc">==</span> <span class="st">"Alive"</span> <span class="sc">~</span> group, <span class="at">data =</span> Transplants)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ol start="2" type="1">
<li><p>The sole explanatory variable here, <code>group</code> also is categorical. It has levels <code>"Control"</code> and <code>"Treatment"</code>.</p>
<ol type="i">
<li>Using <code>eval_mod()</code>, find the probability of being alive at the end of the study for the Control group and for the treatment group.</li>
<li>The two probabilities in (ii) do not add up to zero. Explain why.</li>
</ol></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(mod, <span class="at">group=</span><span class="st">"Treatment"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      group model_output
1 Treatment    0.3478261</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(mod, <span class="at">group=</span><span class="st">"Control"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    group model_output
1 Control    0.1176471</code></pre>
</div>
</div>
</div>
</div>
<ol start="3" type="1">
<li><p>Find the effect size of the treatment. All you need is your results from (2)?</p></li>
<li><p>Use <code>mod_effect(</code>modelname<code>, ~ group)</code> to calculate the effect size.</p>
<ol type="i">
<li>Is the result consistent with what you found in (3).</li>
<li>Explain in everyday language what this effect size means.</li>
</ol></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_effect</span>(mod, <span class="sc">~</span> group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     change     group to_group
1 -0.230179 Treatment  Control</code></pre>
</div>
</div>
</div>
</div>
<hr>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11">24.2</h2>
<p>In very simple settings, you don’t need access to the original data: a simple summary will do.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
In draft
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use the <code>data/bloodthinner.csv</code> data from <em>CPS</em> chapter 19. Create the table of counts and calculate the effect size/probabilities from that.</p>
</div>
</div>
<hr>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-25" class="level2">
<h2 class="anchored" data-anchor-id="lesson-25">Lesson 25</h2>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Just while in draft
</div>
</div>
<div class="callout-body-container callout-body">
<p>25.1 Given a data frame, construct a predictor function for a specified response variable.</p>
<p>25.2 Use the predictor function to estimate prediction error on a given DAG sample and summarize with root mean square (RMS) error. Relate this to a predition interval.</p>
<p>25.3 Distinguish between in-sample and out-of-sample prediction estimates of prediction error.</p>
</div>
</div>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12">25.2</h2>
<p>The data frame <code>moderndive::house_prices</code> lists the sales prices of 21,613 houses in King County, Washington (which includes Seattle) sold from May 2014 and May 2015. Often, with price or income data, economists work with the <em>logarithm</em> of the price or income or income-related quantity such as house living area. We are going to do here, but this problem is not about logarithms, so once you create the “logged” data frame, you’ll just be modeling the data using the usual methods.</p>
<p>To create the “logged” data, add these two new variables to the data frame, which we will call <code>Seattle</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>Seattle <span class="ot">&lt;-</span> moderndive<span class="sc">::</span>house_prices <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_price =</span> <span class="fu">log10</span>(price),</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">log_area =</span> <span class="fu">log10</span>(sqft_living))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Build a model of <code>log_price ~ log_area</code> using the <code>Seattle</code> data. Store the model under the name <code>pmod</code>.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>pmod <span class="ot">&lt;-</span> <span class="fu">lm</span>(log_price <span class="sc">~</span> log_area, <span class="at">data =</span> Seattle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ol start="2" type="1">
<li>Imagine that you are moving to Seattle in August 2014. Housing is expensive in the Seattle area, so you might decide to live in a small house, say 750 square feet. The <code>log_area</code> of such a house is 2.87. Using <code>mod_eval()</code>, predict the <code>log_price</code> of such a house. (Note that <code>mod_eval()</code> puts the model output in a column named <code>model_output</code>, not <code>log_price</code>.) In your Rmd file, give the command and show the output. If you’re curious about what the predicted price is in dollars (rather than log-dollars), simply raise 10 to the log-dollar amount. For instance, if the <code>model_output</code> were 5, the dollar amount will be <span class="math inline">\(10^5 = \$100,000\)</span>.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(pmod, <span class="at">log_area =</span> <span class="fl">2.87</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  log_area model_output
1     2.87     5.324298</code></pre>
</div>
</div>
<p>In dollar terms, the predicted price is 10<sup>5.324</sup> = 2.1086281^{5}.</p>
</div>
</div>
<ol start="3" type="1">
<li><p>Repeat (2), but for a house with lots of space: 1500 square feet. The <code>log_area</code> of such a house is 3.18. As in (2), give the command and show the output in your Rmd file.</p></li>
<li><p>Your budget is $200,000. In log dollars this budget is <code>log10(200000)</code> = 5.3. The predicted price of a 750 square-foot house is somewhat beyond your budget. But you figure that some 750-square foot house will be within your budget. To see if this is likely, look at the <strong>prediction interval</strong> of the house price. You can do this by adding the <code>interval="prediction"</code> to the <code>mod_eval()</code> command. Is your budget (5.3 log dollars) within the prediction interval? Show your command and the result in your Rmd file and also give a sentence stating your conclusion.</p></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(pmod, <span class="at">log_area =</span> <span class="fl">2.87</span>, <span class="at">interval=</span><span class="st">"prediction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  log_area model_output    lower   upper
1     2.87     5.324298 4.993416 5.65518</code></pre>
</div>
</div>
<p>Yeah! Your budget of 5.3 log dollars is near the center of the prediction interval.</p>
</div>
</div>
<ol start="5" type="1">
<li>On a hunch, you decide to see whether you might find a 1500 square foot (<code>log_area</code> = 3.18) might also fall within the prediction interval. Will it? Show your command, the result, and a sentence interpreting the result.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(pmod, <span class="at">log_area =</span> <span class="fl">3.18</span>, <span class="at">interval=</span><span class="st">"prediction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  log_area model_output    lower    upper
1     3.18     5.583697 5.252851 5.914543</code></pre>
</div>
</div>
<p>Strictly speaking, your budget (5.3 log dollars) is within the prediction interval. But it is very close to the lower bound of 5.25 log dollars. So there will likely be few houses of 1500 square feet within your budget. So plan that the house you will end up purchasing will be somewhere in the range 750-1500 square feet.</p>
</div>
</div>
<hr>
</section>
<section id="lesson-26" class="level2">
<h2 class="anchored" data-anchor-id="lesson-26">Lesson 26</h2>
<p>Ideas</p>
<ol type="1">
<li>Construct prediction interval when evaluating a model function.</li>
<li>Plot a prediction band.</li>
<li>Check the consistency of the prediction band with the DAG mechanism for large <span class="math inline">\(n\)</span>.
<ul>
<li>Is the width right?</li>
<li>Is the slope right?</li>
</ul></li>
<li>For small <span class="math inline">\(n\)</span> (say, <span class="math inline">\(n=5\)</span>), how is the prediction band different than for large <span class="math inline">\(n\)</span>?</li>
</ol>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13">26.1</h2>
<p>The <code>openintro::bac</code> data frame records an experiment with sixteen student volunteers at Ohio State University who each drank a randomly assigned number of cans of beer (<code>beers</code>). These students were evenly divided between men and women, and they differed in weight and drinking habits. Thirty minutes later, a police officer measured their blood alcohol content (<code>bac</code>) in grams of alcohol per deciliter of blood.</p>
<p>Construct a model of <code>bac ~ beers</code> using the <code>openintro::bac</code> data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(bac <span class="sc">~</span> beers, <span class="at">data =</span> openintro<span class="sc">::</span>bac)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Federal and state laws typically specify a legal upper limit for blood alcohol content of a driver of 0.08%. According to the model function, how many beers corresponds to this upper limit?</li>
</ol>
</section>
<section id="solution-27" class="level2 content-note">
<h2 class="anchored" data-anchor-id="solution-27">Solution</h2>
<p>One way to calculate this is to guess at the number of beers, then modify your guess according to whether it’s high or low.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(mod, <span class="at">beers=</span><span class="dv">4</span>) <span class="co"># too low</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  beers model_output
1     4   0.05915444</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(mod, <span class="at">beers=</span><span class="dv">6</span>) <span class="co"># too high</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  beers model_output
1     6   0.09508197</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># next guess should be around 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Another way, for the avid calculus student, is to turn the model into a function, then use <code>Zeros()</code> to find where the output is 0.08.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(mod)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>mosaicCalc<span class="sc">::</span><span class="fu">Zeros</span>(<span class="fu">f</span>(beers) <span class="sc">-</span> <span class="fl">0.08</span> <span class="sc">~</span> beers, mosaicCalc<span class="sc">::</span><span class="fu">bounds</span>(<span class="at">beers=</span><span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  beers .output.
  &lt;dbl&gt;    &lt;dbl&gt;
1  5.16        0</code></pre>
</div>
</div>
<p>Simplest of all, just graph the model function and read backwards from the vertical axis.</p>
</section>
<ol start="2" type="1">
<li>It’s hard to believe that the volunteers in a beer-drinking study who are willing to risk being randomly assigned to drink five or more beers will be representative of a broader group of people. So, we’ll just consider the results to apply to “volunteers.”</li>
</ol>
<p>At the number of beers you found in (1), what fraction of volunteers will be above the 0.08 level?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s a good assumption that about half the time the actual value for an individual person will be above the model output. This means that five beers should not be taken as an appropriate guideline—half of the people who follow that guideline will be above the legal limit.</p>
</div>
</div>
<ol start="3" type="1">
<li>A proper guideline should take into account that the goal is to entirely avoid people who follow it being at or above the 0.08 level. To accomplish this absolutely means finding a number of beers with the 100% prediction interval is entirely below 0.08. Unfortunately a prediction interval at a 100% level stretches to infinity, so eliminating <em>any</em> cases having a BAC of 0.08 means an absolute prohibition on drinking. That might be a good idea but, historically, such policies have not been successful in the US.</li>
</ol>
<p>To have a non-zero guideline, we have to allow that the guideline will put a <em>small fraction</em> of people above the 0.08 BAC level. Suppose that we decide to use the standard 95% level for the prediction interval. Construct the 95% prediction interval on BAC for each of the inputs 1 to 5 beers. Which number of beers will keep the upper limit of the prediction interval below the 0.08 BAC limit?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mod_eval</span>(mod, <span class="at">interval=</span><span class="st">"prediction"</span>, <span class="at">level=</span><span class="dv">1</span>, <span class="at">beers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  beers model_output        lower      upper
1     1  0.005263158 -0.044010412 0.05453673
2     2  0.023226920 -0.024229326 0.07068317
3     3  0.041190682 -0.004954462 0.08733583
4     4  0.059154443  0.013770285 0.10453860
5     5  0.077118205  0.031917122 0.12231929</code></pre>
</div>
</div>
<p>Two beers has the upper limit of the prediction interval below 0.08.</p>
</div>
</div>
<ol start="4" type="1">
<li>It turns out that 2.55 beers has a prediction interval whose upper limit is at 0.08. Using 2.55 beers as the guideline for staying below 0.08 BAC, what fraction of people who drink 2.55 beers will nonetheless have a BAC above 0.08?</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<p>The 95% prediction interval contains 95% of the results. That puts a fraction of 0.025 above the top of the interval and another 0.025 below the bottom of the interval. We’re concerned only about BAC being too high. So, about 0.025 of people who stick to a limit of 2.55 beers will end up with a DAC above the 0.08 limit.</p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
<section id="lesson-27" class="level2">
<h2 class="anchored" data-anchor-id="lesson-27">Lesson 27</h2>
<p>This is a QR day.</p>
</section>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14">27.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-28" class="level2">
<h2 class="anchored" data-anchor-id="lesson-28">Lesson 28</h2>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15">28.1</h2>
<p>Consider <code>dag01</code>, which shows a simple causal relationship between two variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dag_draw</span>(dag01)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="LC-list_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>So far as the size of prediction error is concerned, does it matter whether <code>x</code> is used to predict <code>y</code> or vice versa? Show the models and the results you use to come to your conclusion. ::: {.callout-note} ## Solution</p>
</section>
</div>
</div>
<hr>
</section>
<section id="lesson-29" class="level2">
<h2 class="anchored" data-anchor-id="lesson-29">Lesson 29</h2>
</section>
<section id="lc-29.1" class="level2">
<h2 class="anchored" data-anchor-id="lc-29.1">LC 29.1</h2>
<p>In <code>dag04</code>, build models to predict <code>c</code> from the other variables. Does one of those variables “block” the others?</p>
<ul>
<li>Explain how you know this from your models. Try to give an answer in everyday language as well.</li>
<li>Repeat but use a very small sample size, say <span class="math inline">\(n=5\)</span>. Has your conclusion about blocking changed? Explain why.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_rms_error</span>(dag04, c<span class="sc">~</span> <span class="dv">1</span>, c <span class="sc">~</span> d, c<span class="sc">~</span> b <span class="sc">+</span> d, c <span class="sc">~</span> a <span class="sc">+</span> b <span class="sc">+</span> d, <span class="at">n=</span><span class="dv">50</span>, <span class="at">in_sample =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9685768 0.9184358 0.8683545 0.6429531</code></pre>
</div>
</div>
<p><code>d</code> seems to block effect of <code>a</code> and <code>b</code> on <code>c</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_rms_error</span>(dag04, c<span class="sc">~</span> <span class="dv">1</span>, c <span class="sc">~</span> d, c<span class="sc">~</span> b <span class="sc">+</span> d, c <span class="sc">~</span> a <span class="sc">+</span> b <span class="sc">+</span> d, <span class="at">n=</span><span class="dv">5</span>, <span class="at">in_sample =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6044909 0.3786901 0.2987024 0.1051752</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="lc-29.2" class="level2">
<h2 class="anchored" data-anchor-id="lc-29.2">LC 29.2</h2>
<p>We are using in-sample testing because that is often the case in the model-building stage. However, in the model-<strong>using</strong> stage, things are different. You will be making predictions of new cases, that is, out-of-sample.</p>
<p>For out-of-sample, when working with new data, it’s not just a matter of being tricked into thinking covariates are useful when they’re not. Using irrelevant covariates can be genuinely harmful to the predictions.</p>
<p>Compare these in-sample and out-of-sample results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">101</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_rms_error</span>(dag07, d <span class="sc">~</span> <span class="dv">1</span>, d <span class="sc">~</span> c, d<span class="sc">~</span> b <span class="sc">+</span> c, d <span class="sc">~</span> a <span class="sc">+</span> b <span class="sc">+</span> c, <span class="at">n=</span><span class="dv">4</span>, <span class="at">in_sample =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.689275e-01 4.188891e-01 3.603896e-01 1.416962e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">101</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_rms_error</span>(dag07, d <span class="sc">~</span> <span class="dv">1</span>, d <span class="sc">~</span> c, d<span class="sc">~</span> b <span class="sc">+</span> c, d <span class="sc">~</span> a <span class="sc">+</span> b <span class="sc">+</span> c, <span class="at">n=</span><span class="dv">4</span>, <span class="at">in_sample =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.965495 1.434434 1.641881 1.591050</code></pre>
</div>
</div>
<p>What do you see in the results that tells you that incorporating irrelevant covariates hurts the out-of-sample predictions?</p>
<hr>
</section>
<section id="lc-29.3" class="level2">
<h2 class="anchored" data-anchor-id="lc-29.3">LC 29.3</h2>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
In draft
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>openintro::teacher</code>. What’s the <code>base</code> pay difference between a teacher with an MA and a BA degree? What’s a confidence interval on this effect size? How does the confidence interval change if you include <code>years</code> as a covariate.</p>
</div>
</div>
<hr>
</section>
<section id="lc-29.4" class="level2">
<h2 class="anchored" data-anchor-id="lc-29.4">LC 29.4</h2>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
In draft
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>openintro::census</code> Predict log personal income based on other variables. Eat variance using the <code>total_family_income</code> variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log10</span>(total_personal_income) <span class="sc">~</span> <span class="fu">log10</span>(age) <span class="sc">+</span> sex <span class="sc">+</span> marital_status <span class="sc">+</span> <span class="fu">log10</span>(total_family_income), <span class="at">data =</span> openintro<span class="sc">::</span>census <span class="sc">%&gt;%</span> <span class="fu">filter</span>(total_personal_income <span class="sc">&gt;</span> <span class="dv">0</span>, total_family_income <span class="sc">&gt;</span> <span class="dv">0</span>))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: log10(total_personal_income)
                            Df Sum Sq Mean Sq  F value    Pr(&gt;F)    
log10(age)                   1  5.938  5.9383  35.6102 6.660e-09 ***
sex                          1  5.976  5.9758  35.8351 6.006e-09 ***
marital_status               5  4.302  0.8604   5.1596 0.0001464 ***
log10(total_family_income)   1 17.620 17.6198 105.6615 &lt; 2.2e-16 ***
Residuals                  306 51.028  0.1668                       
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_jitter</span>(total_personal_income <span class="sc">~</span> total_family_income <span class="sc">|</span> sex, </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">data =</span>openintro<span class="sc">::</span>census <span class="sc">%&gt;%</span> <span class="fu">filter</span>(total_personal_income <span class="sc">&gt;</span> <span class="dv">3000</span>),</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">color=</span><span class="sc">~</span>marital_status, <span class="at">alpha=</span><span class="fl">0.3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_refine</span>(<span class="fu">scale_y_log10</span>(), <span class="fu">scale_x_log10</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Transformation introduced infinite values in continuous x-axis</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 20 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="LC-list_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>```</p>
</div>
</div>
</section>
<section id="lesson-30" class="level2">
<h2 class="anchored" data-anchor-id="lesson-30">Lesson 30</h2>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16">30.1</h2>
<p>Dags with longer confounding pathways. Is there mixing when leaving out an element in the pathway. Mix up the directions of the arrows and show that the mixing occurs when the covariate is <em>included</em> in the model.</p>
<p>Regression to the mean example.</p>
<p>Collider?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-31" class="level2">
<h2 class="anchored" data-anchor-id="lesson-31">Lesson 31</h2>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17">31.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-32" class="level2">
<h2 class="anchored" data-anchor-id="lesson-32">Lesson 32</h2>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18">32.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-33" class="level2">
<h2 class="anchored" data-anchor-id="lesson-33">Lesson 33</h2>
</section>
<section id="section-19" class="level2">
<h2 class="anchored" data-anchor-id="section-19">33.1</h2>
<ol type="1">
<li>Convert probability to odds and log odds, and vice versa.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-34" class="level2">
<h2 class="anchored" data-anchor-id="lesson-34">Lesson 34</h2>
</section>
<section id="section-20" class="level2">
<h2 class="anchored" data-anchor-id="section-20">34.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-35" class="level2">
<h2 class="anchored" data-anchor-id="lesson-35">Lesson 35</h2>
</section>
<section id="section-21" class="level2">
<h2 class="anchored" data-anchor-id="section-21">35.1</h2>
<p>Given some classifier summaries, calculate the false-positive and false-negative rates as well as the sensitivity and specificity</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-36" class="level2">
<h2 class="anchored" data-anchor-id="lesson-36">Lesson 36</h2>
</section>
<section id="section-22" class="level2">
<h2 class="anchored" data-anchor-id="section-22">36.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-37" class="level2">
<h2 class="anchored" data-anchor-id="lesson-37">Lesson 37</h2>
<p>Ideas:</p>
<ul>
<li>Use the <code>openintro::mlbbat10</code> baseball data to look at on-base performace as a function of hitting position. How many p-values are being reported from the regression report? Bonferroni adjustment. Compare to ANOVA format which looks at the term as a whole. Also look at the large number of indicators of batting performance. How many different tests could we perform?</li>
</ul>
</section>
<section id="section-23" class="level2">
<h2 class="anchored" data-anchor-id="section-23">37.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>
</section>
<section id="lesson-38" class="level2">
<h2 class="anchored" data-anchor-id="lesson-38">Lesson 38</h2>
</section>
<section id="section-24" class="level2">
<h2 class="anchored" data-anchor-id="section-24">38.1</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<hr>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>