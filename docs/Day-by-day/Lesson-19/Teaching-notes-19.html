<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Spring 2023 Math 300Z – teaching-notes-19</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Math 300Z</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../Textbook/index.html">
 <span class="menu-text">Textbook</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../student-notes.qmd">
 <span class="menu-text">Student notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../faculty-notes.qmd">
 <span class="menu-text">Faculty notes</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="instructor-teaching-notes-for-lesson-19" class="level1">
<h1>Instructor Teaching Notes for Lesson 19</h1>
<section id="introduction-to-2nd-half-of-course" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-2nd-half-of-course">Introduction to 2nd half of course</h2>
<p>You have been learning some basics of data wrangling and visualization, along with what <em>ModernDive</em> calls “basic regression” and “multiple regression.” These are <em>tools</em> which you will continue to use in the second half of the semester.</p>
<p>The major theme of the second half of the semester is to identify patterns in data and evaluate/assess what you’ve identified to see if it’s useful for your purposes.</p>
<p>As an example of a pattern, let’s look at some Department of Transportation data on models of cars stored in the <code>MPG</code> data frame. We will start by looking at the link between fuel economy and CO_2_ production.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MPG, <span class="fu">aes</span>(<span class="at">x =</span> fuel_year, <span class="at">y =</span> CO2_year)) <span class="sc">+</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha=</span>.<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Teaching-notes-19_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is a very strong pattern. <code>fuel_year</code> and <code>CO2_year</code> are practically the same thing.</p>
<ul>
<li>Why?</li>
<li>Why are there some points off of the straight line describing the large majority of points?</li>
</ul>
<p>Machine learning approach: Start with nothing and take away variables that are meaningless</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>rpart<span class="sc">::</span><span class="fu">rpart</span>(CO2_year <span class="sc">~</span> fuel_year <span class="sc">+</span> ., </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> MPG <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>               <span class="fu">select</span>(<span class="sc">-</span>CO2combined, <span class="sc">-</span>mpg_comb, <span class="sc">-</span>EPA_fuel_cost))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>n= 1154 

node), split, n, deviance, yval
      * denotes terminal node

 1) root 1154 983805200 4055.459  
   2) fuel_year&lt; 477.3361 727 203825200 3497.221  
     4) fuel_year&lt; 382.5226 278  40816780 2953.129  
       8) CO2hwy&lt; 229.5 43   5251163 2259.070 *
       9) CO2hwy&gt;=229.5 235  11061500 3080.128 *
     5) fuel_year&gt;=382.5226 449  29755260 3834.098  
      10) fuel_year&lt; 427.1553 211   4069879 3610.758 *
      11) fuel_year&gt;=427.1553 238   5829750 4032.101 *
   3) fuel_year&gt;=477.3361 427 167698900 5005.902  
     6) fuel_year&lt; 597.6272 328  33347410 4736.738  
      12) fuel_year&lt; 536.1372 181   5201859 4490.884 *
      13) fuel_year&gt;=536.1372 147   3734356 5039.456 *
     7) fuel_year&gt;=597.6272 99  31857170 5897.677  
      14) model=488 Pista Spider,911 GT3,911 GT3 RS,911 GT3 Touring,AMG GLE 63,AMG GLE 63 S,AMG GLE 63 S (coupe),AMG GLS 63,AMG S 65,AMG S 65 (convertible),AMG S 65 (coupe),ARMADA 2WD,ARMADA 4WD,C10 SIERRA 2WD CAB CHASSIS,C10 SILVERADO 2WD CAB CHASSIS,CAMARO,CANYON CAB CHASSIS 2WD,Challenger SRT,Charger SRT,COLORADO CAB CHASSIS 2WD,COLORADO ZR2 4WD,CORVETTE,CTS-V,Cullinan,Dawn,Durango AWD,Durango SRT AWD,ESCALADE 4WD,F150 5.0L 4WD FFV GVWR&gt;7599 LBS,F150 RAPTOR 4WD,G 550,Ghost,Ghost EWB,GLS 550 4MATIC,Grand Cherokee 4X4,Grand Cherokee SRT 4x4,GRANTURISMO CONVERTIBLE,GX 460,Huracan,Huracan 2WD,Huracan Spyder,Huracan Spyder 2WD,K10 SIERRA 4WD,K10 SIERRA 4WD CAB CHASSIS,K10 SILVERADO 4WD CAB CHASSIS,K10 SILVERADO 4WD TRAILBOSS,K1500 SUBURBAN 4WD,K1500 YUKON XL 4WD,LAND CRUISER WAGON 4WD,LEVANTE GTS,LEVANTE Trofeo,LX 570,M6 Gran Coupe,M760i xDrive,Maybach S 650,MKT HEARSE AWD,MKT LIMO AWD,Phantom,Phantom EWB,QX80 2WD,QX80 4WD,Range Rover LWB SVA,Range Rover Sport SVR,Range Rover SVA,Roush Stage 3 Mustang,SEQUOIA 2WD,SEQUOIA 4WD,Transit T150 Wagon,TRANSIT T150 WAGON FFV,TUNDRA 2WD,TUNDRA 4WD,TUNDRA 4WD FFV,Urus,Wraith,X6 M 89   6972789 5743.371 *
      15) model=812 Superfast,Aventador Coupe,Aventador Roadster,Chiron,F150 Pickup 2WD,F150 Pickup 4WD,FORD GT,Grand Cherokee Trackhawk 4x4,GTC4Lusso,Mulsanne 10   3905090 7271.000 *</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MPG, <span class="fu">aes</span>(<span class="at">x =</span> fuel_year, <span class="at">y =</span> CO2_year)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha=</span>.<span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color=</span>fuel))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Teaching-notes-19_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The main tool we will use to identify patterns is <strong>regression modeling</strong>. Here’s the regression modeling description of the CO_2_ production problem:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(CO2_year <span class="sc">~</span> fuel_year, <span class="at">data =</span> MPG)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(CO2_year <span class="sc">~</span> fuel_year <span class="sc">*</span> fuel, <span class="at">data =</span> MPG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How do we compare these two models to see if <code>fuel</code> is really the explanation? You will be learning a handful of techniques for summarizing models and, more important, when and why you would want to use each of the tools.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mod1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = CO2_year ~ fuel_year, data = MPG)

Coefficients:
(Intercept)    fuel_year  
     54.050        8.782  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mod2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = CO2_year ~ fuel_year * fuel, data = MPG)

Coefficients:
      (Intercept)          fuel_year              fuelG             fuelGM  
         118.8428             9.8895          -121.7502          -127.5287  
           fuelGP            fuelGPR    fuel_year:fuelG   fuel_year:fuelGM  
         -93.9667           -94.9800            -0.9971            -0.9866  
 fuel_year:fuelGP  fuel_year:fuelGPR  
          -1.0758            -1.0686  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova_summary</span>(mod1, mod2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  term                        df.residual      rss    df   sumsq stati…¹ p.value
  &lt;chr&gt;                             &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 CO2_year ~ fuel_year               1152 7020002.    NA NA          NA       NA
2 CO2_year ~ fuel_year * fuel        1144  917314.     8  6.10e6    951.       0
# … with abbreviated variable name ¹​statistic</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Vals <span class="ot">&lt;-</span> <span class="fu">model_eval</span>(mod2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using training data as input to model_eval().</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Vals, <span class="fu">aes</span>(<span class="at">y=</span>.resid, <span class="at">x=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Teaching-notes-19_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Big_ones <span class="ot">&lt;-</span> <span class="fu">abs</span>(Vals<span class="sc">$</span>.resid) <span class="sc">&gt;</span> <span class="dv">100</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>MPG[Big_ones,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 39
   manufacturer divis…¹ model fuel_…² CO2_y…³ hybrid class doors vol_p…⁴ vol_l…⁵
   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 aston martin Aston … Vant…    477.    4350 not    Two …    NA      NA      NA
 2 Volkswagen … Lambor… Aven…    912.    7840 not    Two …    NA      NA      NA
 3 Volkswagen … Lambor… Aven…    923.    7940 not    Two …    NA      NA      NA
 4 Volkswagen … Lambor… Hura…    674.    5850 not    Two …    NA      NA      NA
 5 Volkswagen … Lambor… Hura…    674.    5850 not    Two …    NA      NA      NA
 6 Toyota       LEXUS   RC 3…    465.    4360 not    Subc…     2      84      10
 7 Toyota       LEXUS   RC 3…    465.    4360 not    Subc…     2      84      10
 8 General Mot… Chevro… CRUZE    272.    2940 not    Comp…     4      94      10
 9 Subaru       Subaru  WRX      487.    4200 not    Comp…     4      97      12
10 General Mot… Chevro… CRUZ…    286.    3100 not    Mids…    NA      95      19
11 Nissan       INFINI… Q70      469.    4330 not    Mids…     4     104      15
12 Kia          KIA MO… Opti…    347.    3250 not    Larg…     4     105      16
13 FCA US LLC   Chrysl… Paci…    451.    4160 not    Spec…    NA      NA      NA
14 Jaguar Land… Jaguar  Jagu…    419.    3950 not    Smal…    NA      NA      NA
15 Toyota       LEXUS   RX 3…    471.    4320 not    Smal…    NA      NA      NA
16 Volkswagen … Lambor… Urus     718.    6170 not    Stan…    NA      NA      NA
# … with 29 more variables: displacement &lt;dbl&gt;, model_year &lt;dbl&gt;,
#   transmission &lt;chr&gt;, mpg_city &lt;dbl&gt;, mpg_hwy &lt;dbl&gt;, mpg_comb &lt;dbl&gt;,
#   CO2city &lt;dbl&gt;, CO2hwy &lt;dbl&gt;, CO2combined &lt;dbl&gt;, regen &lt;lgl&gt;,
#   valves_exhaust &lt;dbl&gt;, valves_intake &lt;dbl&gt;, start_stop &lt;chr&gt;,
#   cyl_deact &lt;chr&gt;, vol_passengers2D &lt;dbl&gt;, vol_passengers4D &lt;dbl&gt;,
#   vol_passengersH &lt;dbl&gt;, vol_luggage2D &lt;dbl&gt;, vol_luggage4D &lt;dbl&gt;,
#   vol_luggageH &lt;dbl&gt;, fuel &lt;chr&gt;, drive &lt;chr&gt;, n_gears &lt;dbl&gt;, n_cyl &lt;dbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MPG <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">ratio=</span>CO2_year<span class="sc">/</span>fuel_year), <span class="fu">aes</span>(<span class="at">y=</span>ratio, <span class="at">color=</span>fuel, <span class="at">x=</span><span class="dv">1</span>)) <span class="sc">+</span> <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Teaching-notes-19_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-1-variation-noise-signal" class="level2">
<h2 class="anchored" data-anchor-id="section-1-variation-noise-signal">Section 1: Variation, noise, signal</h2>
<p>Motivating problem: Designing an enforcement regime for limits on scallop fisheries.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-scallop-life-cycle" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="../www/scallop-life-cycle.png" class="img-fluid figure-img" width="328"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Life cycle of a scallop</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Fisheries are regulated by states and the Federal government in order to avoid collapse due to over-fishing. Often, the regulations attempt to protect juveniles—animals that have not yet reached reproductive age. If the juveniles are harvested, their potential progeny are annihilated. There are various ways to do this, for instance restricting fishing to months where adults are most prevalent, closing fisheries to provide an opportunity for the reproductive stock to recover, and so on.</p>
<p>In the 1990s, one of the ways the Federal government regulated scallop fisheries was by setting a minimum acceptable size for harvested scallops. For practical reasons, rather than monitoring individual scallops, the government monitored the average per scallop weight of each boat’s catch. For the sake of the example, imagine that the minimum acceptable weight is 1/30 pound.</p>
<p>A fishing boat might have 10,000 or more bags of scallops, which can be handled individually: weigh the bag, then count the number of scallops to get the average weight per scallop.</p>
<p>Discussion questions:</p>
<ul>
<li>How many bags should be sampled? Should this depend on the number of bags in the cargo. For instance, should a cargo of 1000 bags be sampled differently than a cargo of 10,000 bags.</li>
<li>What should be the threshold for declaring the whole cargo below minimum size? (The whole catch is confiscated in such a case.)</li>
</ul>
<p>In this section of the course, you’ll learn some statistical concepts and methods that allow the above questions to be answered to produce a regulation that is protective and fair to the fishermen.</p>
<p>One idea is very simple: <em>sampling variation</em>. This is about how much the average per-scallop weight will vary from one bag to another.</p>
<p>Another idea is very subtle: What you can say about the whole cargo based on a sample of <span class="math inline">\(n\)</span> bags.</p>
</section>
<section id="in-this-lesson" class="level2">
<h2 class="anchored" data-anchor-id="in-this-lesson">In this Lesson …</h2>
<ol type="i">
<li><p>Why variation is central to thinking about data.</p></li>
<li><p>How to measure variation: the <strong>variance</strong>.</p></li>
<li><p>Accounting with variance: what’s explained and what’s still not explained.</p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>