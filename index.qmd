---
title: "Math 300R --- Continuing the improvement of Math 300"
author: "Daniel Kaplan"
date: "Sept. 23, 2022"
format:
  html:
    theme: cosmo
  pdf:
    documentclass: scrreprt
    number-sections: false
  docx:
    number-sections: false
---

This site holds the proposal for the Spring 2023 version of Math 300.

## Background

Up through Spring 2022, Math 300 was organized around the Moore and Notz textbook: [*Statistics: Concepts and controversies*](https://store.macmillanlearning.com/us/product/Statistics-Concepts-and-Controversies/p/1319109020?gclid=CjwKCAjwpqCZBhAbEiwAa7pXeccQNXB3lKxdYgzHuubs_T9TwY8nqa_NG1UDHty2E3E-XqsiSUojNBoCTvcQAvD_BwE) 10/e. This book was designed for a non-technical audience of "consumers of statistics" but is dramatically out of date. For instance, it has absolutely no data science content and introduces only primitive statistical methods. This was deemed inappropriate for cadets going on to be officers who will inevitably have to work with modern data and methods.

In Fall 2022, Math 300 switched to a very different book, Ismay and Kim, [*Statistical Inference via Data Science: A ModernDive into R and the Tidyverse*](https://moderndive.com/). The 
*ModernDive* book introduces computing on data in an accessible but modern way. It is the only well-known statistics text based on a data-science perspective. Nonetheless, the statistical inference portions of the book regress to the same sort of primitive statistical methods from *Concepts and Controversies*.

To support the Fall 2022 course using *ModernDive*, a complete set of roughly 35 Notes to Instructors (NTI) were written by Prof. Bradley Warner along with problem sets and other needed materials and deployed for the course. 

This proposal is to further transition Math 300, building on the Fall 2022 course but replacing the inference portions of the course with more contemporary and general-purpose inference techniques and support for concepts and methods relevant to decision making.

In the following, I will be making reference to three different versions of Math 300:

- The Fall 2022 version of the course, using the *ModernDive* book will be called *Math 300*.
- The previous version of course, as it was taught for several years before Fall 2022, will be called *300CC*, which refers to the textbook then used, *Concepts & Controversies*.
- The course proposed in this document, a revision of part of *Math 300*, will be called *Math 300R*. The R stands for "revised."

## Overall goals of Math 300R

The design of a course revision needs to take into account several factors:

- the target audience's anticipated technical ability and motivation and therefore the appropriate pedagogy and the balance between theory and practice to use in the course 
- institutional goals as they relate to the course subject, that is, the prioritization of the many different topics that might be included in the course
- constraints of class time and internal coherence of the course, that is, using later topics in the course to reinforce student learning of the earlier topics

Later, in the [justification section](#justification) section of this document, I describe how I came to the following conclusions, but for now a simple statement of the conclusions will suffice.

1. The target audience is humanities and social science majors, many of whom will not be confident in the use of calculus, but all of whom have had previous exposure to R in the core calculus course.
2. Institutional goals (as revealed by discussion with humanities and social science departments and the wording of the catalog description of Math 300) include a substantial emphasis on *data science techniques* (data wrangling and visualization) and on the use of statistical concepts and methods to support *decision-making*.
3. Given the class-time demands of the new emphasis on data science techniques in Math 300 (and retained in Math 300R), the statistical concepts and methods need to be taught in a more compact manner than in Math 300CC. Low-priority, legacy topics from Math 300CC should be dropped, particularly those that do not relate to decision-making. A concise, unifying framework for presenting the statistical topics should be adopted. The framework proposed for Math 300R is linear regression together with a data wrangling and visualization approach to motivating and demonstrating statistical concepts. Abstract theory will be supplanted by concrete simulations.

## Regression and simulation

Linear regression is already integrated into the *ModernDive* textbook used in Math 300. It was also covered extensively in the core calculus course (141Z/142Z). Regression provides a basis for almost all of the statistical "tests" covered in Math 300CC and other traditional statistics courses. It is part of the toolbox of data scientists and relates well to emerging data techniques such as machine learning.

There are two distinct facets of simulation. One, familiar to many statistical educators, is the introduction to inference provided by randomization techniques: resampling, bootstrapping, and permutation tests. This approach is well established in the statistics community and considered by many to be a better pedagogy than the traditional formula-and-distribution presentation of statistical methods.

The other facet of simulation is more novel and relates to the generation of synthetic data where the amount of available data is unlimited and the mechanism behind the data is explicitly stated (as opposed to the often unknown mechanisms behind real-world data).

Several of the 19 lessons covered by this proposal involve "statistical inference." In frequentist inference, there is a concept of "population," which is a real or hypothetical source of data. In many of the lessons about statistical inference, we will instantiate a population via a simulation based on an instructor-stipulated directed acyclic graph (DAG) augmented with an effect size for each direct path. A sample can be drawn from the simulation, and the (in-sample) results then compared to repeated samples from the simulation or the effect sizes used in the simulation.

This pedagogy is intended to develop intuition for the various statistical phenomena (such as sampling variation, prediction error, or confounding). It will also draw on and reinforce the data-wrangling, regression, and visualization skills developed in the first half of the course. It will also help us deal frankly with causality and what data can and cannot tell us about causal relationships.

Care must be taken to avoid students mistakenly concluding that using simulated data allows us to draw inferences about the real world. For instance, simulations will use abstract variable names such as Y, X, A, B, C whereas real data will have genuinely descriptive names.


## Summary of the proposed changes {#sec-broad-structure}

Math 300R will retain the first 17 lessons Math 300. All teaching materials for this part of the course will be used unaltered. (Exception: revisions to Math 300 the Fall 2022 teaching team deems appropriate. Such revisions are not part of this proposal.)

The next 19 lessons will be completely refactored and based on new readings, NTIs, exams, and other materials. Objectives for each of these 19 lessons are [itemized here](schedule-of-objectives.html).

* The corresponding *ModernDive* chapters will not be used. 
* The software will the same as that used in the first half of the *ModernDive* book, specifically the `ggplot2` graphics package and the `tidyverse` data wrangling packages. However, ...
* The `infer` package used in the second half of *ModernDive* will be dropped. 

The theme of the refactored 19 lessons is "informing decisions with data." Math 300R will introduce concepts and methods needed to predict the impact of interventions, the prediction of individual outcomes, and the quantification and accumulation of risk. One important idea is "effect size," how much a change in an explanatory variable changes the response variable. This is intimately connected with causation and causation is connected with co-variation. Another important idea is prediction of outcomes and the quantification of uncertainty in the prediction. One important application of this is in the design and operation of "classifiers."  

Topics to be de-emphasized are the algebra of computing confidence intervals and p-values and the (controversial) role of p-values as a guide to practical "significance." Typically, about half of a traditional course is given over to the construction of confidence intervals in various settings and, more or less equivalently, the conversion of data into p-values. In the contemporary era, when "observational" data are collected *en masse*, p-values can become very small ("significant") even when the the relationship under study is slight and insubstantial.

Confounding and methods for dealing with it (statistical adjustment, experiment) are treated substantially in Math 300R. Decision-making about interventions often relies on the understanding of causal effects; the possibility of confounding is a major source of skepticism about making causal judgments. In a world where much data is observational in nature, the sweeping principles that "correlation is not causation" and "no causation without experimentation" do not provide support for making responsible conclusions about causal connections. Decision-makers need this support.

## JUSTIFICATION

REFERRING TO THE POINTS in the introduction.

## Relationship to Math 357 and Math 377

DFMS offers three courses satisfying the statistics component of the Academy's core requirements: Math 300, Math 357, and Math 377. In designing 300R, attention should be paid to the reasons for supporting three distinct courses. The catalog copy lays out the differences in terms of intended student major, software, mathematical background, and orientation to data science.

**Intended student major**: The catalog says, "Math 300 is designed primarily for majors in the Social Sciences and Humanities." while "Math 356 is primarily designed for cadets in engineering, science, or other technical disciplines. Math majors and Operations Research majors will take Math 377." Math 377 is also the intended course for prospective Data Science majors, although this is not in the catalog.

**Software**: The catalog does not describe any software component for either Math 300 or Math 357, but states that, in Math 377, "modern software appropriate for data analysis will be used." In reality, as of Fall 2022, much the same software is used in all three courses: R with the `dplyr` package for data wrangling, `ggplot2` for data visualization, and "R/Markdown" for creating computationally active documents.

One difference between Math 300 and 357/377 relates to computer programming. Both 357 and 377 include content about the underlying structure of the R language, object types, the construction of functions, and arrays and iteration. In contrast, Math 300 is based on a small set of command patterns using data frames. Students see R in Math 300 more or less as an extension of what they learned in 141Z/142Z; what's added is a few statistical and data-wrangling functions and a handful of new graphics types.

**Students' mathematical background**:  Math 377 explicitly refers to "calculus-based probability." Math 300 and 357 share identical catalog copy, though in reality Math 357 and Math 377 use the same textbook. Calculus is indeed necessary for the probability topics in Math 357 and 377. My interpretation is that Math 300 should serve as a safe haven for those who lack confidence in their calculus skills. Both the Fall 2022 edition of Math 300 and the proposed Math 300R serve this role as safe haven.

**Orientation to Data Science**: Starting with the Fall 2022 edition, Math 300 develops and draws on data-science skills for wrangling and visualization. In this, the new Math 300 is in line with both Math 357 and 377. 

The above analysis indicates that Math 300 and 300R should diverge from Math 357/377 in these ways:

1. Math 300R should make little or no use of calculus operations. 
2. Math 300R should include little consideration of probability distributions or (non-automated) calculations with any but the simplest.
3. Math 300R should be computational, but should not draw heavily on computer programming skills such as types of objects, arrays, indexing, and loop-style iteration. Use of R/Markdown documents should be considered as a pedagogical choice, and retained or discontinued based on how it contributes to student success in the other areas of the course.

In addition, I suggest that ...

4. Math 300R include some work with assembling/curating data using spreadsheets and basic data cleaning with spreadsheets. Awareness of the ubiquity of data errors and a basic understanding of how to deal with such errors is an important component of working with data. (This is not to suggest that data *analysis*, *modeling*, and *graphical* depiction be taught using spreadsheets, which are notoriously unreliable, difficult, and limiting for such purposes. Spreadsheets are, however, appropriate for the phase where non-tabular data is transcribed into a tabular arrangement.)

## Justification of proposed changes (#justification)

To organize the justification of accomplished and proposed changes, it helps to refer to the catalog copy for Math 300.

> Math 300. Introduction to Statistics. An introduction in probability and statistics **for decision-makers**. Topics include basic probability, statistical inference, prediction, data visualization, and data management. This course emphasizes critical thinking among **decision-makers**, preparing future officers to be **critical consumers of data**. (*Emphasis added.*)

I interpret the final sentence as a description of the overall objective of the course: 

> **Overall objective**: *Prepare officers to **use data** to **inform decisions**.*

My proposal is to interpret the topics listed in the catalog copy as ways of serving the overall objective.

To lay the groundwork for this proposal, in AY 2021-22 I contacted the departments in the social sciences and humanities. Three of these---history, political science, economics---responded with interest. Discussion with groups of faculty from these departments elucidated a number of points:

- The faculty most highly valued the development of data-science skills such as computing for data wrangling and data visualization.
- The then-current version of Math 300 did not contribute to the development of such skills.
- Math 357 is not seen as an appropriate alterative to Math 300, both because of perceived difficulty of 357 and because faculty do not value the emphasis on probability distributions seen in 357.

I also closely examined the [textbook used in Math 300](https://www.macmillanlearning.com/college/us/product/Statistics-Concepts-and-Controversies/p/1319109020) up through AY 2021-2022. The book has clear deficiencies, among which are:

- the material is out of date and does not reflect any of the consensus recommendations (such as [GAISE](https://www.amstat.org/docs/default-source/amstat-documents/gaisecollege_full.pdf)) developed in the last 30 years.
- it does not use data at any level beyond hand calculation.
- it does not deal with decision making at any serious level. (The only decision formally supported is whether or not to reject the Null hypothesis.)

Based on these findings, the group of faculty planning for revisions to Math 300 made an easy decision: replace the textbook with one oriented to data science. We selected the *ModernDive* book, which is unique among introductory statistics textbooks in starting out with data wrangling and visualization. This change of textbook addresses the "use data" part of the course objective stipulated above.

The other part of the objective---**inform decisions**---remains problematic even with the switch in textbook. Consider these aspects of real decision making:

- Decisions ought to be informed by costs, benefits, and risk.
- Decisions often need to be taken with the data at hand.

Instead of addressing these issues, introductory statistics courses focus on a single, abstract decision: Should the null hypothesis be rejected or not? (This is often formulated in terms of confidence intervals.)

Discussions I had with the *ModernDive* authors made clear that their purpose in writing the book was to provide a way to introduce data science into introductory statistics, but that they stuck to the hypothesis-testing/confidence-interval framework in order not to make the change too daunting for instructors thinking of adopting the text. In other words, they were not trying to turn the topic toward decision-making with data.

Returning to the idea that the topics listed in the catalog copy ought to be interpreted as serving the overall objective of the course, let's consider those topics one at a time:

1. data management
2. data visualization
3. prediction
4. statistical inference
5. basic probability 


(1) Strictly speaking, as a term of art the phrase "data management" is business jargon describing enterprise-level activities that are unrelated to the other items on the list. It would be unheard of to include it, in this strict sense, in a statistics course. I believe the intent of the phrase to be better served by terms like "data wrangling," "data cleaning," "database querying," and such which make up an important part of "data science." Data wrangling is a major feature of Math 300  launched  and is covered using professional level computing tools well suited to both small and large data. But whatever "data management" might reasonably be taken to mean, it was utterly ignored in Math 300CC. 

(2) "Data visualization" is generally taken to be the process of using graphics to discover and highlight patterns shown in data. Math 300CC included only statistical graphics such as histograms, box-and-whisker plots, and basic "scatter plots." Math 300 adds to this modern modes of graphics such as transparency, color, and faceting that make it possible to display relationships among multiple variables. The software used in Math 300 is the professional-level `ggplot2` which provides the ability to increase the sophistication and generality of data display, using for example density graphics such as violin plots. As such, Math 300 is a big step on the road to rich data visualization. Some of these will be introduced in Math 300R in the second half of the course.

(3) "Prediction" is a central paradigm used in the important area of "machine learning." It is also an often used method used to inform decision making and characterize risk, for instance, by indicating the distribution of plausible outcomes. Math 300CC emphasized paradigms such as hypothesis testing and confidence intervals that are not aligned with making and interpreting predictions. Math 300 focuses on these same paradigms. Math 300R will treat prediction as a central statistical path, as well as highlighting its proper use, interpretation, and evaluation. 

(4) "Statistical inference" is traditionally taken to mean the calculation and interpretation of hypothesis tests and confidence intervals in various simple settings. Such settings include the "difference between two means," the "correlation coefficient," and the "slope of a regression line." Math 300CC introduced a handful of such settings, providing distinct formulas for each of them. The "controversies" referred to in the title *Concepts and controversies* includes the problematic interpretation of "p-values" and the need to use random sampling and/or random assignment in data collection to get "correct" results. Math 300 retains the emphasis on confidence intervals and p-values in the simple settings, but emphasizes a more general and accessible methodology based on bootstrapping and permutation tests.

Unfortunately, appealing to random sampling/assignment is often whistling past the graveyard, since these idealized data collection processes are rarely available. Instead, professionals include "covariates" in their data collection in order to "adjust" for the factors that would have been scrambled into insignificance by random sampling/assignment if it had been available. Math 300R incorporates covariate methods and highlights the importance of identifying appropriate covariates.

(5) "Basic probability" can mean different things to different people. In most introductory statistics courses it refers to the construction, calculation, and study of named distributions such as the binomial, normal, chi-squared, t, etc. Such distributions play an important role in the statistical theory of confidence intervals and hypothesis testing. That is, they are support for statistical inference. Math 300CC followed the traditional pattern of having students memorize which distribution is relevant to which setting and using printed tables for calculation. As described earlier, Math 300 provides a much more natural route to inference through bootstrapping and permutation tests.

What's left out in this conception of basic probability is the support for decision making. Essential to this is the proper use of "conditional probability." Math 300R emphasizes appropriate use and interpretation of conditional probability, seen most clearly in the "classifiers" part of the course.

The transition from Math 300CC to Math 300 is a big step toward the objective of "prepar[ing] officers to use data." Math 300R will add in progress toward the overall objective of "us[ing] data to inform decisions."


## Plan of work

1. Early October 2022: Preliminary approval, with appropriate modifications, of the [proposed objectives](objectives-diffs.html).

2. October 2022: DTK will draft new day-by-day NTIs for the second half of the course in the same style as the existing NTIs for the first half of the course. In the process of drafting, there will likely be some re-arrangement and modification of the objectives in (1). 

3. November 2022: With the draft NTIs in hand, a faculty team will make a more detailed examination of the proposed objectives. I recommend that this examination be structured as a set of hour-long discussions, one for each of the five divisions described in @sec-topics.

4. November/December 2022: DTK (and others, as interested) will assemble student readings to replace the second half of *ModernDive*. Much of the content already exists in the form of a draft textbook by DTK. These will be re-arranged to correspond to the day-to-day objectives as determined in (3).

5. January/February 2023: The first 18 lessons of 300R will be taught as a repeat of those lessons from Math 300 Fall 2022. DTK will participate mainly as an observer.

6. January/February 2023: Revision and refinement will be made of the readings and NTIs in (3) and (4) above.

7. March/April 2023: Teaching the new lessons. DTK will participate as an instructor for these lessons. 
