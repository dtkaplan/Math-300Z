<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel T. Kaplan">
<meta name="dcterms.date" content="2023-01-12">

<title>Project: Transcribing Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="Census-student-notes_files/libs/clipboard/clipboard.min.js"></script>
<script src="Census-student-notes_files/libs/quarto-html/quarto.js"></script>
<script src="Census-student-notes_files/libs/quarto-html/popper.min.js"></script>
<script src="Census-student-notes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Census-student-notes_files/libs/quarto-html/anchor.min.js"></script>
<link href="Census-student-notes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Census-student-notes_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Census-student-notes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Census-student-notes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Census-student-notes_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project: Transcribing Data</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel T. Kaplan </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 12, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>In order to use data wrangling and graphics techniques, the data frames themselves must be properly formed. Unfortunately, most people are unfamiliar with the basic principles behind data-frame organization. Consequently, even machine-readable documents such as spreadsheets look organized but often contain flaws that prevent their full use as data.</p>
<p>This project is meant to help you internalize principles of proper data organization so that they become second nature to you. Another goal of the project is to develop your skills in recognizing spreadsheet pitfalls that interfere with wrangling. Finally, the project will introduce you to the concept of a <em>relational database</em>. We will not be making much use of relational databases in Math 300, but anyone literate with data needs to be aware of this critical and ubiquitous tool and why it is so important to working with data.</p>
<section id="the-project-context-the-us-census" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-project-context-the-us-census">The project context: the US Census</h2>
<p>As you may know, Article 1 Section 2 of the US Constitution requires that an “actual Enumeration” of all residents of the US be made every ten years.</p>
<div class="cell page-columns page-full" data-layout-align="center">
<div class="cell-output-display page-columns page-full">
<div id="fig-section-2" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="www/Constitution-section-2.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;1: ARTICLE 1, Section 2 of the US Constitution, requiring a census every 10 years. The section also contains the infamous “three-fifths” provision for counting enslaved people.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>A basic input to the census enumeration is the “population schedule,” which lists individual persons as rows in a spreadsheet. By law, the Census Bureau must keep private the information on individuals, and is not even able to share it with other government agencies. Only the summary tabulations made via data wrangling can be published.</p>
<p>However, 72 years after each census the population schedules can be released. In 2022, the population schedules for the 1950 census were released. We are going to use population schedules from the 1940 census, which are more accessible than the newly released 1950s sheets.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="fig-pop-schedule-small" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="www/1940-Colorado-Springs-miniature.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;2: One of the millions of population schedules from the 1940 census.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><a href="#fig-pop-schedule-small">Figure&nbsp;2</a> shows a population schedule from North Nevada Street in Colorado Springs, CO. This is a spreadsheet in the <a href="https://en.wikipedia.org/wiki/Spreadsheet#Paper_spreadsheets">original sense of the word</a>: a broad sheet of paper used for accounting.</p>
</section>
<section id="spreadsheet-structure" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="spreadsheet-structure">Spreadsheet structure</h2>
<p>We call a document like that in <a href="#fig-pop-schedule-small">Figure&nbsp;2</a> a “spreadsheet” because it is not yet organized appropriately for a data frame. (This is understandable, because the concept of relational databases originates in the 1970s. Today’s Census Bureau, like every data organization, uses relational spreadsheets.)</p>
<p><a href="#fig-pop-schedule-portion">Figure&nbsp;3</a> zooms in on the upper-left side of the sheet to make the structure more apparent.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="fig-pop-schedule-portion" class="quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="www/1940-Colorado-Springs-detail.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption margin-caption">Figure&nbsp;3: Detail from the upper-left portion of <a href="#fig-pop-schedule-small">Figure&nbsp;2</a>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>A key aspect of data-frame organization is the idea of a “unit of observation”: the kind of thing represented by a row. Looking carefully at <a href="#fig-pop-schedule-portion">Figure&nbsp;3</a>, it is evident that each row corresponds to an individual person. For example, line 42 is about Louise W. Service, a 38-year-old married woman.</p>
<p>However, for many of the individuals, there are blank cells. Many of the names start with a long dash, as in <img src="www/Louise-W.png" class="img-fluid">. The point of such elisions is to avoid duplicating entries. For instance, Louise W. shares the last name of her husband, William C., as well as the same address, 1415 N. Nevada Street.</p>
<p>Avoiding unnecessary duplication is a fundamental principle in the organization of data.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> In 1940, avoiding duplication reduced the amount of writing needed for data entry. In the 2020s, avoiding unnecessary duplication is still important as a way of avoiding possible inconsistencies and making it clear that two or more cells must be identical.</p>
<p>The use of blanks or dashes in the spreadsheet is a common-sense way of indicating that information from one row is shared by an adjacent row. But it is not consistent with the proper organization of data frames and databases.</p>
<p>A fundamental, though unexpected and non-intuitive principle of data-frame organization is that the <em>order of the rows</em> does not matter. Instead, all information about relationships is represented by the data itself, regardless of order. This principle has important consequences for the organization of data and a major part of the motivation for relational databases.</p>
<p>A modern way to interpret what’s going on in the population schedule spreadsheet is that there are actually <em>two</em> different <em>units of observation</em> involved: i) the individual person and ii) the household. Since a data frame can have only a single unit of observation, representing the spreadsheet in a modern format will require two different data frames: one for the individual persons and another for the individual households.</p>
<p>The requirement that every data frame have its unit of observation provides many advantages. For instance, suppose it was realized after the data entry that the rent on the household’s home is incorrect. Fixing it can be accomplished by changing a single number in a single data frame. Or, consider what happens when it is discovered that a person was missed in the enumeration of a household. Adding this new person can be accomplished by appending a new row to the data frame containing individuals.</p>
</section>
<section id="tasks-for-the-project" class="level2">
<h2 class="anchored" data-anchor-id="tasks-for-the-project">Tasks for the project</h2>
<p>Note that you <strong>do not need</strong> to do any work in R for this project.</p>
<p>You will need two URLs and the <code>pop_schedule_ID</code> from <a href="https://docs.google.com/spreadsheets/d/1ZxbiNCKrGeCAqYTd1R9QLSRBLia9HBk4k8DxHxKqiok/edit?usp=sharing">this roster</a>.</p>
<ol type="1">
<li>Population schedule URL: links to an image of a population schedule. Download this to your laptop.</li>
<li>Data entry URL: links to a Google sheet. You will edit the Google sheet from a browser on your laptop (or any other machine.) The Google sheet contains two tabs, for the <em>household</em> and the <em>persons</em> data frames.
<ul>
<li>Fill in the <em>household</em> data frame first. You will need it for the <em>persons</em> data frame.</li>
<li>Some of the population schedules are continued from a previous sheet. Start your transcription with the first <em>complete</em> household.</li>
</ul></li>
</ol>
<p><strong>Data-entry tips</strong></p>
<ol type="1">
<li>When entering data for a categorical variable, decide on a set of levels before you start entering the data.</li>
<li>There is a <code>household_ID</code> variable in both the <em>households</em> and <em>persons</em> data frames. Similarly, there is a <code>pop_schedule_ID</code>. These must be absolutely consistent across the two data frames.</li>
<li>Each population schedule contains a column (#3) labeled “Number of household in order of visitation.” Use this as the <code>household_ID</code> in your data frames. It is unique within the population schedule. Together with the <code>pop_schedule_ID</code> it is unique universally, since every population schedule has a unique <code>pop_schedule_ID</code>.</li>
<li>In the <em>persons</em> spreadsheet, we have collapsed columns 21-25 into one multi-level categorical variable named <code>workplace</code>. Read the column 21-25 headers to determine a set of levels that will properly encode the information in those columns.</li>
</ol>
<section id="notes-in-draft-for-instructors" class="level3">
<h3 class="anchored" data-anchor-id="notes-in-draft-for-instructors">Notes in draft for instructors</h3>
<ol type="1">
<li><p>Google sheet for distributing population schedules and data-entry spreadsheets: <a href="https://docs.google.com/spreadsheets/d/1ZxbiNCKrGeCAqYTd1R9QLSRBLia9HBk4k8DxHxKqiok/edit?usp=sharing" class="uri">https://docs.google.com/spreadsheets/d/1ZxbiNCKrGeCAqYTd1R9QLSRBLia9HBk4k8DxHxKqiok/edit?usp=sharing</a></p></li>
<li><p>An example data-entry spreadsheet: <a href="https://docs.google.com/spreadsheets/d/1nUMP1VQfTmhQy1q1sKGSlJ825GpnyXto8M8tkUhtUOU/edit?usp=sharing" class="uri">https://docs.google.com/spreadsheets/d/1nUMP1VQfTmhQy1q1sKGSlJ825GpnyXto8M8tkUhtUOU/edit?usp=sharing</a></p></li>
</ol>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>An example of <em>necessary</em> duplication appears in lines 52 and 53, where two people happen to have the same name.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>