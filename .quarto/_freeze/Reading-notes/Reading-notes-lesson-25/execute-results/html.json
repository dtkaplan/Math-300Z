{
  "hash": "322864fca09521e39236370b6bed4c1b",
  "result": {
    "markdown": "---\ntitle: \"Math 300R Lesson 25 Reading Notes\"\nsubtitle: \"Mechanics of prediction\"\nauthor: \"Prof. Danny Kaplan\"\ndate: \"October 20, 2022\"\noutput:\n  html_document:\n    theme: lumen\n    toc: yes\n    toc_float: yes\n    css: NTI.css\n  pdf_document:\n    toc: yes\n---\n\n\n\n\nUse `mod_eval()`\n\n## A model as function\n\nInconvenient because functions don't know how to translate from the individual arguments to values taken from a data frame.\n\n## Feeding inputs into a model\n\n## Drawing a model function\n\nEvaluate the model at many inputs, then plot out `model_output` versus input.\n\n`mod_plot()` automates this.\n\n## An example extracting information from residuals\n\nAmazon discounts it's books, but the discount is a smaller percentage for low-priced books.  You can see this by building a model of log prices, extracting the most negative residuals, then looking at the prices of these negative-residual books. \n\nIn the PREDICTION lessons, build a model of list price versus amazon price, possibly using logarithms. Are the books with the most negative residuals different in some way from the others? (I think that they are mostly low-price books.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\noffsets <- lm(log(list_price) ~ log(amazon_price), data = amazon_books) %>% residuals()\nbad_deals <- which(offsets < 0.4)\namazon_books$list_price[bad_deals]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  [1]  15.00   1.50  15.99  30.50  28.95  20.00  15.00  35.00  30.00  17.00\n [11]  17.00  19.95  20.00  39.95  18.99   5.95  15.00   7.50  15.95  13.00\n [21]  11.94  14.00  14.95  22.99  15.00  18.00   7.95  14.95  14.95   7.95\n [31]  15.95  20.00  14.00  29.50  11.99  13.07  13.95  15.00   4.99  13.00\n [41]  13.99  24.95  26.99  14.95   6.69   5.99  13.95  26.95  24.00  16.00\n [51]  13.99  17.99  15.00   8.99   6.99  14.54  17.99 114.95  48.20  15.95\n [61]  15.95  18.00  86.95  15.00  17.99  15.00  11.50  26.95   6.99  15.00\n [71]  16.00  53.95  15.00   6.99  12.00  21.10  13.95  14.99  30.00   7.99\n [81]   8.00  15.99  26.99  17.00   6.99  14.95  18.00  16.00   6.99  16.00\n [91]   8.99  16.00  19.99  18.00   8.99  17.00  14.00  27.95 139.95  24.95\n[101]   6.95  26.00  26.00   9.95  27.99  16.99   8.95  14.95  15.95  21.00\n[111]  14.00  20.00  15.00  14.95  15.95  14.99  14.00  12.95  24.99  15.00\n[121]  15.00  25.95  25.00   9.99  26.99  17.99  15.00  15.00  25.05  17.99\n[131]  16.00  14.99  20.00   7.99  14.00  13.29  16.00  13.83  12.00  14.95\n[141]  15.00  16.99  15.00   6.95  14.00  15.00  20.00  16.00  15.00  16.00\n[151]  15.00  15.00  16.00   8.95   5.99  16.00  15.00  14.00  35.95  14.99\n[161]   7.95  16.99  98.95  35.75  19.73  37.50  13.00  15.95  26.00   5.99\n[171]  14.99  16.00   9.99  15.95  14.99  14.00  13.95  16.00  75.00  32.95\n[181]  26.95  15.99  15.00  24.00   6.95  16.00  16.00  26.95  26.99   7.99\n[191]  17.95  35.75   6.99   9.99   6.99  15.00  12.00   9.99     NA  11.99\n[201]  15.00  24.00  16.00  16.00  12.14   7.75  14.10   4.99  13.95  22.00\n[211]  12.99  13.99   8.95   8.99   7.95  15.00  17.00  13.00  12.99  70.80\n[221]  48.20   9.99  30.00  15.00  14.00  16.99  22.00   8.42   9.99  15.00\n[231]  14.95  18.99  10.95  16.95  28.00  25.00  15.00  15.00  15.00  17.00\n[241]  13.95  16.00  11.00   8.99  17.99  16.00  15.00  12.00  17.99  21.99\n[251]  15.95  24.95  39.95  16.00  10.65  13.99  19.95  14.00  15.00  16.95\n[261]   9.99  14.95  11.00  17.00  14.95  12.00   9.99  25.00  14.00  17.99\n[271]  30.00  16.99  34.80  15.95   7.77   3.95   2.00   8.99  18.95  20.00\n[281]  20.00  15.44  22.00  14.95  17.99  16.00  14.95  25.00  14.95  26.00\n[291]  24.99  20.00  13.00  13.99  15.99  12.60  10.99  24.99  28.00  35.00\n[301]  15.95   6.99  14.95  14.95  25.00  27.00  15.00  15.00  15.95  14.95\n[311]  26.00  18.99  12.95\n```\n:::\n:::\n",
    "supporting": [
      "Reading-notes-lesson-25_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}