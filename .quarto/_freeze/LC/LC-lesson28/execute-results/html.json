{
  "hash": "f71f9d6fb0db211d6772c87013433042",
  "result": {
    "markdown": "---\ntitle: \"Learning Checks Lesson 28\"\n---\n\n\n\n\n::: {.callout-warning}\n## Remove these hard-coded objectives after drafting problems\n\n28.1 Read a DAG to determine which covariates to include in a model to reduce (out-of-sample) prediction error.\n\n28.2 Calculate amount of in-sample mean square error reduction to be expected with a useless (random) covariate. (Residual sum of squares divided by residual degrees of freedom.)\n:::\n\n\n## 28.1\n\nConsider `dag01`, which shows a simple causal relationship between two variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndag_draw(dag01)\n```\n\n::: {.cell-output-display}\n![](LC-lesson28_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nSo far as the size of prediction error is concerned, does it matter whether `x` is used to predict `y` or vice versa? Show the models and the results you use to come to your conclusion.\n::: {.callout-note}\n## Solution\n\n:::\n\n--------\n\n## 28.B\n\nWhenever you seek to study a partial relationship, there must be at\nleast three variables involves: a response variable, an explanatory\nvariable that is of direct interest, and one or more other explanatory\nvariables that will be held constant: the covariates.  Unfortunately,\nit's hard to graph out models involving three variables on paper: the\nusual graph of a model just shows one variable as a function of a\nsecond.\n\nOne way to display the relationship between a response variable and\ntwo quantitative explanatory variables is to use a contour plot.  The\ntwo explanatory variables are plotted on the axes and the fitted model\nvalues are shown by the contours.  @fig-car-modelC shows such a display of\nthe fitted model of used car prices as a function of\n`mileage` and `age`.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/car-modelC.png){#fig-car-modelC width=250}\n:::\n:::\n\n\n\nThe dots are the `mileage` and `age` of the\nindividual cars --- the model `Price` is indicated by the\ncontours.  \n\nThe total relationship between `Price` and\n`mileage` involves how the price changes for typical cars\nof different mileage.  \n\n1. Pick a dot that is a typical car with about\n10,000 miles.  Using the contours, find the model price of this car.\nWhich of the following is closest to the model price (in dollars)?\n\n18000, 21000, 25000, **30000**\n\n2. Pick another dot that is a typical car with about 70,000 miles.\nUsing the contours, find the model price of this car. Which of the following is closest to the model price?\n\n18000 **21000**, 25000, 30000\n\nThe total relationship between\n`Price` and `mileage` is reflected by this\nratio: change in model price divided by change in mileage.\nWhat is that ratio (roughly)?\n\na. **$\\frac{30000 - 21000}{70000-10000}=0.15$ dollars/mile**\n#. $\\frac{70000-10000}{25000-21000}=15.0$ dollars/mile\n#. $\\frac{25000 - 18000}{70000-10000}=0.12$ dollars/mile\n\n\nIn contrast, the partial relationship between \n`Price` and `mileage` holding\n`age` constant is found in a different way, by comparing\ntwo points with different mileage but exactly the same age.\n\n3. Mark a point on the graph where age is 3 years and mileage is\n10000. Keep in mind that this point doesn't need to be an actual car,\nthat is, a data point in the graph typical car.  There might be no\nactual car with an age of 3 years and mileage 10000.\nBut using the contour model, \nfind the model price at this point. Which of these is closest?\n\n22000, 24000, 26000 **28000**, 30000\n\n \n4. Find another point, one where the age is exactly the same (3\nyears) but the mileage is different.  Again there might not be an\nactual car there.  Let's pick mileage as 80000.\nUsing the contours, find the model price at this point. Which of these is closest?\n\n**22000**, 24000, 26000, 28000, 30000\n\n5. The partial relationship between price and mileage (holding age\nconstant) is reflected again reflected by the ratio of the change in\nmodel price divided by the change in mileage. What is that ratio\n(roughly)?\n\na. $\\frac{80000-10000}{25000-21000} = 17.50$ dollars/mile\n#. **$\\frac{28000 - 22000}{80000-10000}=0.09$ dollars/mile**\n#. $\\frac{26000 - 24000}{80000-10000}=0.03$ dollars/mile\n\n--------\n\nBoth the total relationship and the partial relationship are indicated\nby the slope of the model price function given by the contours.  The\ntotal relationship involves the slope between two points that are\ntypical cars, as indicated by the dots.  The partial relationship\ninvolves a slope along a different direction.  When holding age\nconstant, that direction is the one where mileage changes but age does\nnot (vertical in the graph).  \n\nThere's also a partial relationship\nbetween price and age holding mileage constant.  That partial\nrelationship involves the slope along the direction where age changes\nbut mileage is held constant.  Estimate that slope by finding the\nmodel price at a point where age is 2 years and another point where\nage is 5 years.  You can pick whatever mileage you like, but it's key\nthat your two points be at exactly the same mileage.\n\n6. Estimate the slope of the price function along a direction where age\nchanges but mileage is held constant (horizontally on the graph).\n\na. 100 dollars per year\n#. 500 dollars per year\n#. **1000 dollars per year**\n#. 2000 dollars per year\n\nThe contour plot in @fig-car-modelC depicts a model in which both mileage and age are\nexplanatory variables.  By choosing the direction in which to measure\nthe slope, one determines whether the slope reflects a total\nrelationship (a direction between typical cars), or a partial\nrelationship holding age constant (a direction where age does not\nchange, which might not be typical for cars), or a partial\nrelationship holding mileage constant (a direction where mileage does\nnot change, which also might not be typical for cars). \n\nIn calculus, the partial derivative of price with respect to mileage\nrefers to an infinitesimal change in a direction where age is held\nconstant.  Similarly, the partial derivative of price with respect to\nage refers to an infinitesimal change in a direction where mileage is\nheld constant.\n\nOf course, in order for the directional derivatives to make sense, the\nprice function needs to have **both** age and mileage as explanatory\nvariables.  @fig-car-modelA shows a model in which only\n`age` has been used as an explanatory variable: there is\nno dependence of the function on `mileage`.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/car-modelA.png){#fig-car-modelA width=250}\n:::\n:::\n\n\nSuch a model is incapable of distinguishing between a partial\nrelationship and a total relationship.  Both the partial and the total\nrelationship involve a ratio of the change in price and change in age\nbetween two points.  For the total relationship, those two points\nwould be typical cars of different ages.  For the partial\nrelationship, those two points would be different ages at exactly the\nsame mileage.  But, because the model depend on mileage, the\ntwo ratios will be exactly the same.\n\n--------\n\n## 28.C\n\nIn each of the following, a situation is described and a question is\nasked that is to be answered by modeling.  Several variables are\nlisted. Imagine an appropriate model and identify each variable as\neither the response variable, an explanatory variable, a covariate, or\na variable to be ignored.\n\n> EXAMPLE: *Some people have claimed that police foot patrols are more \neffective at reducing the crime rate than patrols done in\nautomobiles.  Data from several different cities is available; each\ncity has its own fraction of patrols done by foot, its own crime rate,\netc.  The mayor of your town has asked for your advice on whether it\nwould be worthwhile to shift to more foot patrols in order to reduce\ncrime.  She asks, \"Is there evidence\nthat a larger fraction of foot patrols reduces the crime rate?\"*\n\n**Variables**:\n\n#. Crime rate (e.g., robberies per 100000 population)\n#. Fraction of foot patrols\n#. Number of policemen per 1000 population\n#. Demographics (e.g., poverty rate)\n\n\nAnswer: The question focuses on how the `fraction of foot patrols` might\ninfluence `crime rate`, so `crime rate` is the response variable and\n`fraction of foot patrols` is an explanatory variable.\n\nBut, the crime rate might also depend on the overall level of policing\n(as indicated by the `number of policemen`), or on the social\nconditions that are associated with crime (e.g., `demographics`).\nSince the mayor has no power to change the demographics of your town,\nand probably little power to change the overall level number of\npolicemen, in modeling the data from the different cities, you\nwould want to hold constant `number of policemen` and the\n`demographics`.  You can do this by treating `number of policemen` and `demographics` as covariates and including them in\nyour model.\n\n--------\n\n\n### Alcohol and Road Safety\n\nFifteen years ago, your state legislature raised the legal drinking age\nfrom 18 to\n21 years.  An important motivation was to reduce the number of car accident\ndeaths due to drunk or impaired drivers.  Now, some people are arguing\nthat the 21-year age limit encourages binge drinking among 18 to 20\nyear olds and that such binge drinking actually increases car accident\ndeaths.  But the evidence is that the number of car accident deaths\nhas gone down since the 21-year age restriction was introduced.  \nYou are asked to examine the issue: Does the reduction in the number\nof car-accident deaths per year point to the effectiveness of the\n21-year drinking age?\n\n\n**Variables**:\n\n#. Drinking age limit. Levels: 18 or 21.\n\nWhich is it? response **explanatory** covariate ignore \n\n#. Number of car-accident deaths per year.\n\nWhich is it? **response** explanatory covariate ignore \n\n#. Prevalence of seat-belt use.\n\nWhich is it? response explanatory **covariate** ignore \n\n#. Fraction of cars with air bags.\n\nWhich is it? response explanatory **covariate** ignore \n\n#. Number of car accidents (with or without death).\n\nWhich is it? response explanatory covariate **ignore**\n\n\n::: {.callout-note} \n## Explanation\nOf direct interest is how the `drinking age limit` accounts for the\n`number of deaths`, so these are, respectively, explanatory and\nresponse variables.  But a lower death rate might also be explained by\nincreased use of `seat belts` and of `air bags`; these can\nprevent deaths in an accident and they have been increasing over the\nsame period in which the 21-year age limit was introduced.  \nIn examining how the \n`drinking age limit` might affect the `number of deaths`, it\nmight be important to hold these other factors constant.  So, `seat belts` and `air bags` should be covariates included in the model.\n\nThe `number of accidents` is different.  It seems plausible that\nthe mechanism by which drunk driving causes deaths is by causing\naccidents.  If the `number of accidents` were included as a\ncovariate, then the model would be examining how the death rate\nchanges with drinking age when {\\em holding the number of accidents\nconstant} even though the point is\nthat the higher drinking age might reduce the number of accidents.\nSo, `number of accidents` ought to be left out of the model.\n::: \n\n\n### Rating Surgeons\n\nYour state government wants to guide citizens in choosing physicians.\nAs part of this effort, they are going to rank all the surgeons in\nyour state.  You have been asked to build the rating system and you\nhave a set of variables available for your use.  These variables have\nbeen measured for each of the 342,861 people who underwent surgery in\nyour state last year: one person\nbeing treated by one doctor.  How should you\nconstruct a rating system that will help citizens to choose the most\neffective surgeon for their own treatment?\n\n\n**Variables**:\n\n#. Outcome score. (A high score means that the operation did whatit was supposed to.  A low score  reflects failure, e.g. death. Death is a very bad outcome, post-operative infection a somewhat bad outcome.)\n\nWhich is it? **response** explanatory covariate ignore \n\n#. Surgeon.  One level for each of the operating surgeons.\n\nWhich is it? response explanatory covariate ignore \n\n#. Experience of the surgeon.\n\nWhich is it? response explanatory covariate **ignore**\n\n#. Difficulty of the case.\n\nWhich is it? response explanatory **covariate** ignore \n\n::: {.callout-note} \n## Explanation\n\nThe patient has a choice of doctors and wants to have the best\npossible outcome.  So the model needs to include `surgeon` as an\nexplanatory variable and `outcome score` as the response.  \n\nA simple model might be misleading for informing a patient's choice.\nThe best doctors might take on the most difficult cases and\ntherefore have worse outcomes than doctors who are not as good. But\nthe patient's condition doesn't change depending on what doctor is\nselected. This\nmeans that the `difficulty of the case` ought to be included as a\ncovariate.  The model would thus tell what is the typical outcome for\neach surgeon *adjusting for the difficulty of the case*, that is,\ngiven the patient's condition.\n\nAnother variable that might explain the outcome is the `experience of the surgeon`; possibly more experienced surgeons produce better\noutcomes.  However, `experience of the surgeon`  \nshould not be included in the model used to inform a patient's choice.  The\nreason is that the patient's choice of a doctor already reflects the\nexperience of that doctor. From the patient's point of view, it\ndoesn't matter whether the doctor's outcomes reflect a high level of\ntalent, a lot of experience, or superior training.\n\nThe choice of variables and covariates depends on the purpose of the\nmodel.  If the purpose of the model were to decide how much experience\nto require of doctors before they are licensed, then an appropriate\nmodel would have `outcome` as the response, `experience` as the\nexplanatory variable, and `difficulty of the case` and `surgeon`\nas covariates.\n::: \n\n\n\n### School testing\n\nLast year, your school district hired a new superintendent to ``shake\nthings up.''  He did so, introducing several controversial new\npolicies.  At the end of the year, test scores were higher than last year.  A\nrepresentative of the teachers' union has asked you to examine the\nscore data and answer this question: Is there reason to think that the\nhigher scores were the result of the superintendent's new policies?\n\n\n**Variables**:\n\n#. Superintendent (levels: New or Former superintendent)\n\nWhich is it? response **explanatory** covariate ignore \n\n#. Exam difficulty\n\nWhich is it? response explanatory **covariate** ignore \n\n#. Test scores\n\nWhich is it? **response** explanatory covariate ignore \n\n\n::: {.callout-note} \n## Explanation\nThe issue of direct interest is whether the policies of the new\nsuperintendent might have influenced the test scores, so the model\nshould be `test scores` as the response and `superintendent` as an\nexplanatory variable.  Of course, one possible mechanism that might\nhave improved the scores, outside of the influence of the\nsuperintendent's policies, is the test itself.  If it were easier this\nyear than last year, \nthen it wouldn't be surprising that the test scores improved this year\neven if the superintendent's policies had no effect.  So `exam difficulty` should be a covariate to be included in the model.\n::: \n\n\n### Gravity\n\nIn a bizarre twist of time, you find yourself as Galileo's research\nassistant in Pisa in 1605.  Galileo is studying gravity: Does\ngravity accelerate all materials in the same\nway, whether they be made of metal, wood, stone, etc.?  Galileo hired\nyou as his assistant because you have brought with you, from the 21st\ncentury, a stop-watch with which to measure time intervals, a\ncomputer, and your skill in statistical modeling.  All of these \nseem miraculous to him.  \n\nHe drops objects off the top of the Leaning\nTower of Pisa and you measure the following:\n\n\n**Variables**\n\n#. The size of the object (measured by its diameter).\n\nWhich is it? response explanatory **covariate** ignore \n\n\n#. Time of fall of the object.\n\nWhich is it? **response** explanatory covariate ignore \n\n#. The material from which the object is made (brass, lead, wood,\nstone).\n\nWhich is it? response **explanatory** covariate ignore \n\n\n::: {.callout-note} \n## Explanation\nGalileo wants to know how the `material` affects the `time` of fall of the\nobject.  These are the explanatory and response variables\nrespectively.  But the size of the object also has an influence, due\nto air resistance. For instance, a tiny ball will fall more slowly\nthan a large ball.  So the `size of the object` should be a covariate.\n::: \n\n\n--------\n\n##28.D\n\nPolling organizations often report their results in tabular form, as in @fig-time-poll-2008. The basic question in the poll summarized in @fig-time-poll-2008 asked whether the respondant agrees with the statement,  \"The US was a better place to live in the 1990s and will continue to decline.\"\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Results from a poll conducted by *Time* magazine. (Source: *Time*, July 28, 2008, p. 41)](images/time-poll-july-2008.png){#fig-time-poll-2008 width=197}\n:::\n:::\n\n\nThe response variable here is \"pessimism.\" In the report, there are three explanatory variables: race/ethnicity, income, and age. The report's breakdown is one explanatory variable at a time, meaning that it considers \"total change\" rather than \"change holding other factors constant.\" This can be misleading when there are connections among the explanatory variables. For instance, relatively few\npeople in the 18 to 29 age group have high incomes.\n\nPollsters rarely make available the raw data they collected. This is unfortunate because it prevents others from looking at the data in different ways. For the purpose of this exercise, you'll use simulated data in the frame `math300::Econ_outlook_poll`. Of course, the simulation doesn't necessarily describe people's attitudes directly, but it does let you see how the conclusions drawn from the poll might have been different if the results for each explanatory variable had been presented in a way that adjusts for the other explanatory variables.\n\n\n1. Construct the model `pessimism ~ age - 1`.  Look at the coefficients and choose the statement that best reflects the results. (In case you're wondering: The `-1` is convenient when the explanatory variable is categorical. It ensures that a coefficient is reported for each level of the `age` variable. You'll have to compare coefficients for different age groups to see a trend.)\n\n#. **Middle aged people have lower pessimism than young or old people.**\n#. Young people have the least pessimism.\n#. There is no relationship between age and pessimism.\n\n\n2. Now construct the model `pessimism ~ income - 1`.  Look at\nthe coefficients and choose the statement that best reflects the\nresults:\n\n#. Higher income people are more pessimistic than low-income people.\n#. **Higher income people are less pessimistic than low-income people.**\n#. There is no relationship between income and pessimism.\n\n\n3. Construct a model in which you can look at the relationship\nbetween pessimism and age while *adjusting for* income.  That is, include income as a covariate in your model. Look at the coefficients from your model and choose the statement that\nbest reflects the results:\n\n#. **Holding income constant, older people tend to have higher levels of pessimism than young people.**\n#. Holding income constant, young people tend to have higher levels of pessimism than old people.\n#. Holding income constant, there is no relationship between age and pessimism.\n\n\n4. You can also interpret that same model to see the relationship between\npessimism and income while *adjusting for age*. Which of the following statements best reflects the results?  (Hint: make sure to pay attention to the sign of the coefficients.)\n\n#. Holding age constant, higher income people are more pessimistic than low-income people.\n#. **Holding age constant, higher income people are less pessimistic than low-income people.**\n#. Holding age constant, there is no relationship between income and pessimism.\n\n\n--------\n\n## 28.E\n\n\n\n\nA study^[{\\small Based on an example from Judea Pearl (2000) *Causality: Models, Reasoning, and Inference*, Cambridge Univ. Press, p. 175}] on drug D indicates that patients who were given the drug were **less** likely to recover from their condition C.  Here is a table\nshowing the overall results:\n\n\n\nDrug  |  #  recovered  |  #  died  |  Recovery Rate \n:---------|-----:|-----:|------:\nGiven  |  1600  |  2400  |  40% \nNot given  |  2000  |  2000  |  50% \n\n\nStrangely, when investigators looked at the situation separately for males and females, they found that the drug **improves** recovery for each group:\n\n\\multicolumn{4}{c}{Females} \nSex | Drug  |  num recovered  |  #  died  |  Recovery Rate \n:----::---------|-----:|-----:|------:\nSex | Drug  |  num recovered  |  #  died  |  Recovery Rate \nFemales| Given  |  900  |  2100  |  30% \n  | Not given  |  200  |  800  |  20% \ne \n  |  |  |  |  \nMales |  Given  |  700  |  300  |  70% \n  | Not given  |  1800  |  1200  |  60% \n\n1. Are the two tables consistent with one another in terms of the numbers reported?\n\n2. Does the drug improve recovery or hinder recovery?\n\n3. What advice would you give to a physician about whether or not to prescribe the drug to her patients?  Give enough of an explanation that the physician can judge whether your advice is reasonable.\n\n\n--------\n\n## 28.F\n\nEconomists measure the inflation rate as a percent change in price per year.\nUnemployment is measured as the fraction (percentage) of those who\nwant to work who are seeking jobs.\n\nAccording to economists, in the short run --- say, from one year to\nanother --- there is a relationship between inflation and\nunemployment: all other things being equal, as unemployment goes up,\ninflation should go down.  (The relationship is called the \"Phillips curve,\" but you don't need to know that or anything technical about economics to answer this question.)\n\n\n1. If the Phillips-curve relationship is true, in the model\n ~ `Inflation ~ Unemployment`, what should be the sign of\nthe coefficient on `Unemployment`? positive, zero, **negative**\n\nBut despite the short term relationship, economists claim that In the\nlong run --- over decades --- unemployment and\ninflation should be unrelated.  \n\n2. If the long-run theory is true, in the model\n ~ `Inflation ~ Unemployment`, what should be the sign of\nthe coefficient on `Unemployment`? positive, **zero**, negative}\n\n--------\n\nThe point of this exercise is to figure out how to arrange a model so\nthat you can study the short-term behavior of the relationship, or so\nthat you can study the long term relationship.\n\nFor your reference, @fig-inflation1 shows inflation and unemployment rates \nover about 30 years in the US.  Each point shows the inflation and unemployment rates during\none quarter of a year.  The plotting symbol indicates which of three decade-long periods the point falls into.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/inflation-fig1.png){#fig-inflation1 width=381}\n:::\n:::\n\n\nThe relationship between inflation and unemployment seems to be\ndifferent from one decade to another --- that's the short term. \n\n3. Which decade seems to violate the economists' Phillips Curve short-term\nrelationship? **A**, B, C, none, all\n\n\n\nUsing the modeling language, express these different possible\nrelationships between the variables `Inflation`,\n`Unemployment`, and `Decade`, where the variable\n`Decade` is a categorical variable with the three different\nlevels shown in the legend for the graph. \n\n4. Inflation depends on Unemployment in a way that doesn't change over\ntime.\n\n\n#. `Inflation ~ Decade`\n#. ** ~ `Inflation ~ Unemployment`**\n#. `Inflation ~ Unemployment + Decade`\n#. `Inflation ~ Unemployment * Decade`\n\n\n5. Inflation changes with the decade, but doesn't depend on Unemployment.\n\n\n#. ** ~ `Inflation ~ Decade`**\n#. `Inflation ~ Unemployment`\n#. `Inflation ~ Unemployment + Decade`\n#. `Inflation ~ Unemployment * Decade`\n\n\n6. Inflation depends on Unemployment in the same way every decade, but\neach decade introduces a new background inflation rate independent of\nUnemployment.\n \n\n#. `Inflation ~ Decade`\n#. `Inflation ~ Unemployment`\n#. ** ~ `Inflation ~ Unemployment + Decade`**\n#. `Inflation ~ Unemployment * Decade`\n\n\n7. Inflation depends on Unemployment in a way that differs from decade to\ndecade.\n\n#. `Inflation ~ Decade`\n#. `Inflation ~ Unemployment`\n#. `Inflation ~ Unemployment + Decade`\n#. ** ~ `Inflation ~ Unemployment * Decade`**\n\n\n--------\n\nWhether a model examines the short-term or the long-term behavior is\nanalogous to whether a partial change or a total change is being considered.\n\n\n\n8. Suppose you wanted to study the long-term relationship  between\ninflation and unemployment.  Which of these is appropriate?\n\n#. Hold `Decade` constant. (Partial change)\n#. **Let `Decade` vary as it will. (Total change)**\n\n\n9. Now suppose you want to study the short-term relationship.  Which of\nthese is appropriate?\n\n#. **Hold `Decade` constant. (Partial change)**\n#. Let `Decade` vary as it will. (Total change)\n\n\n--------\n\n## 28.G {#sec-28-G}\n\nConsider `dag03`, involving three variables: `x`, `y`, `g`\n\nLet's take `y` as the response variable, `x` as the explanatory variable of interest, and `g` as a covariate that we might or might not want to include in a model. Consequently, there are two model structures that we can choose between: `y ~ x` versus `y ~ x + g`.\n\n1. Is there any causal path from `x` to `y` or vice versa?\n\n::: {.callout-note}\n## Solution\n\nNo. Even though `x` and `y` are connected to one another via `g`, the path from `x` to `y` (or vice versa) is not causal.  There is no way to get from `x` to `y` (or vice versa) by starting on one of those two nodes and following the links in their causal direction.\n:::\n\n2. Generate a sample of, say, size $n=1000$ from `dag03` and train each of the two models mentioned above on the sample. Examine the 95% confidence intervals on the coefficients and explain which model (if either) is suitable to show that `x` and `y` are connected, and which model (if either) shows that there is no causal path between `x` and `y`. \n\n3. The nature of 95% confidence intervals means that even when the true coefficient is zero, 5% of the time the confidence interval will not include zero. In a class with 100 students, around 5 will see this failure to include zero. In order to avoid those students from being fooled by such accidental effects, feel free to analyze 2 or more samples.\n\nRegretably, in the real world, when working with data that have already been collected, you can't use such multiple samples to check your work. So there is always that 5% chance that a real effect of size zero will produce a confidence interval that doesn't include zero. This is one reason why replication of results is useful.\n\n--------\n\n## 28.H\n\nThis learning challenge is much like LC -@28-G, but uses `dag11` instead of `dag03`.\n\n1. Compare the graphs of `dag03` and `dag11`. (You can use `dag_draw()` to generate the graph.) Are the two DAGs equivalent or not? Describe what differences you see between the two graphs and explain whether those differences are sufficient to make the two DAGs causally different.\n\n\nLet's take `y` as the response variable, `x` as the explanatory variable of interest, and `g` as a covariate that we might or might not want to include in a model. Consequently, there are two model structures that we can choose between: `y ~ x` versus `y ~ x + g`.\n\n1. Is there any causal path from `x` to `y` or vice versa?\n\n::: {.callout-note}\n## Solution\n\nNo. Even though `x` and `y` are connected to one another via `g`, the path from `x` to `y` (or vice versa) is not causal.  There is no way to get from `x` to `y` (or vice versa) by starting on one of those two nodes and following the links in their causal direction.\n:::\n\n2. Generate a sample of, say, size $n=1000$ from `dag03` and train each of the two models mentioned above on the sample. Examine the 95% confidence intervals on the coefficients and explain which model (if either) is suitable to show that `x` and `y` are connected, and which model (if either) shows that there is no causal path between `x` and `y`. \n\n3. Now look at the graph of `dag12` and speculate whether the models `x ~ y` and `x ~ y + g` will give equivalent results. (Don't include node `h` in the models.) Write down your speculation. (No penalty for being wrong, it's just a speculation!) Then, generate a sample from `dag12` and, looking at the 95% confidence intervals on the coefficients, explain whether your speculation was correct or not. \n\n--------\n\n## 28.I\n\n\nIn the hypothetical Mr. Shoebuyer's data and model `width ~ sex`, 8 pairs of shoes produced a margin of error of $\\pm 0.8$, estimate how many shoes you would need to reduce the margin of error to $\\pm 0.1$.\n\n------\n\n## More examples\n\n## Example: SAT Scores and School Spending {-}\n\nChapter 7 showed some models relating school expenditures to SAT scores.  The model `sat` ~ 1 + `expend` produced a negative coefficient on `expend`, suggesting that higher expenditures are associated with lower test scores.  Including another variable, the fraction of students who take the SAT (variable `frac`) reversed this relationship. \n\nThe model  `sat` ~ 1 + `expend` + `frac` attempts to capture how SAT scores depend both on `expend` and `frac`.  In interpreting the model, you can look at how the SAT scores would change with `expend` while holding `frac` constant.  That is, from the model formula, you can study the partial relationship between SAT and `expend` while holding `frac` constant.\n\nThe example also looked at a couple of other fiscally related variables:  student-teacher ratio and teachers' salary.  The total relationship between each of the fiscal variables and SAT was negative – for instance, higher salaries were associated with lower SAT scores.  But the partial relationship, holding `frac` constant, was the opposite: Simpson's Paradox.\n\nFor a moment, take at face value the idea that higher teacher salaries and smaller class sizes are associated with better SAT scores as indicated by the following models:\n\n*sat* = 988 + 2.18 `salary` - 2.78 `frac`\n\n*sat* = 1119 - 3.73 `ratio` - 2.55 `frac`\n\nIn thinking about the impact of an intervention – changing teachers' salaries or changing the student-teacher ratio – it's important to think about what other things will be changing during the intervention. For example, one of the ways to make student-teacher ratios smaller is to hire more teachers. This is easier if salaries are held low.  Similarly, salaries can be raised if fewer teachers are hired: increasing class size is one way to do this.  So, salaries and student-teacher ratio are in conflict with each other.\n\nIf you want to anticipate what might be the effect of a change in teacher salary while holding student-teacher ratio constant, then you should include `ratio` in the model along with `salary` (and `frac`, whose dominating influence remains confounded with the other variables if it is left out of the model):\n\n*sat* = 1058 + 2.55 `salary` - 4.64 `ratio` - 2.91 `frac`\n\nComparing this model to the previous ones gives some indication of the trade-off between salaries and student-teacher ratios. When `ratio` is included along with `salary`, the salary coefficient is somewhat bigger: 2.55 versus 2.18.  This suggests that if salary is increased while holding constant the student-teacher ratio, salary has a stronger relationship with SAT scores than if salary is increased while allowing student-teacher ratio to vary in the way it usually does, accordingly.  \n\nOf course, you still need to have some way to determine whether the precision in the estimate of  the coefficients is adequate to judge whether the detected difference in the `salary` coefficient is real – 2.18 in one model  and 2.55 in the other.  Such issues are introduced in Chapter 12. \n\n\n\n\n",
    "supporting": [
      "LC-lesson28_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}